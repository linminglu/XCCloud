<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title></title>
    <script src="/website/js/jquery-1.8.3-min.js"></script>
    <script type="text/javascript">


        //李俊杰本地测试，请勿修改，如需要修改，请注释再重新定义变量
        //var mobileToken = "d61125e9e3894e7ca3aff69030322097";
        //var memberToken = "91a689cf1d5c494ba40ef7b305e65f67";
        //var storeId = "100025420106001";
        //var mobile = "15618920033";
        //var userToken = "";
        //var icCardId = "10004143";
        //李俊杰本地测试，请勿修改，如需要修改，请注释再重新定义变量

        //李俊杰服务器测试，请勿修改，如需要修改，请注释再重新定义变量
        //var mobileToken = "b185d3d34f15430aadfcb57316feb0fe";
        //var memberToken = "0aa16a8e5b2b45caa47723edaeb6b99c";
        //李俊杰服务器测试，请勿修改，如需要修改，请注释再重新定义变量

        $(function () {
            $("#txtStoreId").val("100025420106001");
            $("#txtUserToken").val("");
            $("#txtPassword").val("100025420106001");
            $("#txtMobile").val("15618920033");
            $("#txtMemberCardId").val("10004143");
            $("#txtWorkStation").val("lijunjie"); 
            $("#txtOpenICCardId").val("10004143");
            $("#txtMemberLevelId_do_addOrder").val(0);
            $("#txtMemberCardId_do_addOrder").val(10004143);
            selCustomerTypeInit();
        });

        function common(url, parasJson) {
            $.ajax({
                type: "post",
                url: url,
                contentType: "application/json; charset=utf-8",
                data: { parasJson: parasJson },
                success: function (data) {
                    //console.log(data);
                    data = JSON.parse(data);
                    console.log(data);
                },
                error: function (error) {
                    alert(1);  //这个地方也用到了
                }
            });
        }

    </script>

    //会员接口
    <script type="text/javascript">

        function do_userlogin() {
            var parasObj = {
                "sysId": "0", "versionNo": "0.0.0.1", "storeId": $("#txtStoreId").val(), "loginName": "lijunjie", "password": "123456",
                "workStation": "tietou1", "dogId": "22222222"
            };
            var url = "/XCCloud/userinfo?action=barLogin";
            var parasJson = JSON.stringify(parasObj);
            $.ajax({
                type: "post",
                url: url,
                contentType: "application/json; charset=utf-8",
                data: { parasJson: parasJson },
                success: function (data) {
                    //console.log(data);
                    data = JSON.parse(data);
                    if (data.result_code == "1") {
                        $("#txtUserToken").val(data.result_data.userToken);
                        userToken = $("#txtUserToken").val();
                    }
                    console.log(data);
                },
                error: function (error) {
                    alert(1);  //这个地方也用到了
                }
            });
        }

        function do_MemberLevel() {
            var parasObj = {
                "sysId": "0", "versionNo": "0.0.0.1", "userToken": $("#txtUserToken").val()
            };
            var url = "/XCCloud/Member?action=getMemberLevel";
            var parasJson = JSON.stringify(parasObj);
            common(url, parasJson);
        }


        function do_Member() {
            var txtUserToken = $("#txtUserToken").val();
            var parasObj = {
                "sysId": "0", "versionNo": "0.0.0.1", "icCardId": $("#txtMemberCardId").val(), "storeId": $("#txtStoreId").val(), "userToken": $("#txtUserToken").val()
            };
            var url = "/XCCloud/Member?action=getMember";
            var parasJson = JSON.stringify(parasObj);
            common(url, parasJson);
        }


        function do_GetMemberOpenCardFoodInfo() {
            var txtUserToken = $("#txtUserToken").val();
            var parasObj = {
                "sysId": "0", "versionNo": "0.0.0.1", "memberLevelId": $("#txtMemberLevelId_GetMemberOpenCardFoodInfo").val(), "storeId": $("#txtStoreId").val(), "userToken": $("#txtUserToken").val()
            };
            var url = "/XCCloud/Foods?action=getOpenCardFoodList";
            var parasJson = JSON.stringify(parasObj);
            common(url, parasJson);
        }

        function do_getFoodList() {
            var priceLimitObj = { category: $("#txtFoodListFoodTypeStr").val(), title: "", balanceIndex: 0, minPrice: "1", maxPrice: "32" }

            var txtUserToken = $("#txtUserToken").val();
            var parasObj = {
                "sysId": "0", "versionNo": "0.0.0.1", "memberLevelId": "1", "customerType": "1", "userToken": $("#txtUserToken").val(), "foodTypeStr": $("#txtFoodListFoodTypeStr").val(),
                "priceLimit": JSON.stringify(priceLimitObj)
            };
            var url = "/XCCloud/Foods?action=getFoodList";
            var parasJson = JSON.stringify(parasObj);
            common(url, parasJson);
        }

        function do_GetFoodDetail() {
            var txtUserToken = $("#txtUserToken").val();
            var parasObj = { "sysId": "0", "versionNo": "0.0.0.1", "userToken": $("#txtUserToken").val(), "category": $("#sel_CustomerType_do_GetFoodDetail").val(), "foodId": $("#txt_do_GetFoodDetail").val() };
            var url = "/XCCloud/Foods?action=getFoodDetail";
            var parasJson = JSON.stringify(parasObj);
            common(url, parasJson);
        }

        function do_GetOrder() {
            var txtUserToken = $("#txtUserToken").val();
            var parasObj = {
                "sysId": "0", "versionNo": "0.0.0.1", "storeId": $("#txtStoreId").val(), "userToken": $("#txtUserToken").val()
            };
            var url = "/XCCloud/Order?action=getOrder";
            var parasJson = JSON.stringify(parasObj);
            common(url, parasJson);
        }

        function do_addOrder() {

            var buyDetail1 = { foodId: "1", category: 0, foodCount: "1", payType: "0", payNum: 0.5 }
            var buyDetail2 = { foodId: "3", category: 0, foodCount: "2", payType: "0", payNum: 5.0 }
            //var buyDetail3 = { foodId: "6", category: 0, foodCount: "1", payType: "98306", payNum: 100 }
            //var buyDetail4 = { foodId: "4", category: 0, foodCount: "1", payType: "98307", payNum: 100 }
            var buyDetail5 = { foodId: "1", category: 1, foodCount: "1", payType: "0", payNum: 20 }
            var buyDetail6 = { foodId: "4", category: 2, foodCount: "1", payType: "0", payNum: 30 }

            var buyDetails = new Array();
            buyDetails.push(buyDetail1);
            buyDetails.push(buyDetail2);
            //buyDetails.push(buyDetail3);
            //buyDetails.push(buyDetail4);
            buyDetails.push(buyDetail5);
            buyDetails.push(buyDetail6);

            var parasObj = {
                buyDetails: JSON.stringify(buyDetails),
                customerType: $("#sel_CustomerType_addOrder").val(),
                memberLevelId: $("#txtMemberLevelId_do_addOrder").val(),
                icCardId: $("#txtMemberCardId_do_addOrder").val(),
                mobile: $("#txtMobile_do_addOrder").val(),    
                payCount: $("#txtPayCount_do_addOrder").val(),
                deposit: $("#txtDeposit_do_addOrder").val(),
                openFee: $("#txtOpenFee_do_addOrder").val(),
                freePay : $("#txtDeposit_do_freePay").val(),
                workStation: "lijunjie",
                authorId:"0",
                note:"",
                orderSource:"0",
                saleCoinType: "1",
                userToken: $("#txtUserToken").val()
            };
            var url = "/XCCloud/Order?action=addOrder";
            var parasJson = JSON.stringify(parasObj);
            $.ajax({
                type: "post",
                url: url,
                contentType: "application/json; charset=utf-8",
                data: { parasJson: parasJson },
                success: function (data) {
                    //console.log(data);
                    data = JSON.parse(data);
                    if (data.result_code == "1") {
                        $("#txtOrderId").val(data.result_data.orderFlwId);
                    }
                    console.log(data);
                },
                error: function (error) {
                    alert(1);  //这个地方也用到了
                }
            });
        }

        function do_UserToken() {
            var parasObj = {
                "sysId": "0", "versionNo": "0.0.0.1", "storeId": $("#txtStoreId").val(), "mobile": $("#txtMobile").val(), "smsCode": "123456"
            };
            var url = "/XCGame/UserInfo?action=getUserToken";
            var parasJson = JSON.stringify(parasObj);
            common(url, parasJson);
        }

        function do_addToken() {
            var txtUserToken = $("#txtUserToken").val();
            var parasObj = {
                "sysId": "0", "versionNo": "0.0.0.1", "userToken": $("#txtUserToken").val()
            };
            var url = "/XCGame/UserInfo?action=addUserToken";
            var parasJson = JSON.stringify(parasObj);
            common(url, parasJson);
        }

        function doProject() {
            var parasObj = {
                "sysId": "0", "versionNo": "0.0.0.1", "barcode": "a96e3c5a42964fb490370f37a5439a2d"
            };
            var url = "/XCGame/Project?action=getProject";
            var parasJson = JSON.stringify(parasObj);
            common(url, parasJson);
        }
        function dodevice() {
            var parasObj = {
                "sysId": "0", "versionNo": "0.0.0.1", "storeId": $("#txtStoreId").val(), "mcuid": "20170518000011"
            };
            var url = "/XCGameMana/Device?action=addDevice";
            var parasJson = JSON.stringify(parasObj);
            common(url, parasJson);
        }

        function registerMember() {
            var parasObj = {
                "userToken": userToken, "storeId": $("#txtStoreId").val(), "mobile": $("#txtMobile").val(), "weChat": "", "qq": "", "imme": "", "cardShape": 1,
                "memberName": "lijujnjie", "memberPassword": "888888", "birthday": "1976-10-10", "gender": "0", "identityCard": "420300197610102511",
                "eMail": "", "leftHandCode": "", "rightHandCode": "", "photo": "", "memberLevelId": "1", "foodId": "1",
                "payCount": 10.00, "realPay": 10.00, "freePay": 0, "repeatCode": "231", "icCardId": "10004144", "workStation": "lijunjie",
                "userId": 3, "deposit": 10, "icCardUID": 0, "payType": 0,"SaleCoinType":1       
            };
            var url = "/XCCloud/Member?action=register";
            var parasJson = JSON.stringify(parasObj);
            common(url, parasJson);
        }

        function checkCanRegister() {
            var parasObj = {
                "userToken": userToken, "storeId": $("#txtStoreId").val(), "mobile": $("#txtMobile").val()
            };
            var url = "/XCCloud/Member?action=checkOpenCard";
            var parasJson = JSON.stringify(parasObj);
            common(url, parasJson);
        }
        
        function getOrderContain() {
            var parasObj = {
                "userToken": userToken, "orderFlwId": $("#txt_FlwOrderId_do_getOrderContain").val()
            };
            var url = "/XCCloud/order?action=getOrderContain";
            var parasJson = JSON.stringify(parasObj);
            common(url, parasJson);
        }

        function payOrder() {
            var parasObj = {
                "userToken": userToken, "orderFlwId": $("#txtOrderId").val(), "realPay": 120,
                "workStation": $("#txtWorkStation").val(), "authorId": 3, "openICCardId": $("#txtMemberCardId_do_addOrder").val()
            };
            var url = "/XCCloud/order?action=payOrder";
            var parasJson = JSON.stringify(parasObj);
            common(url, parasJson);
        }

        function selCustomerTypeInit() {
            $("#selCustomerType").val(0);

            $("#selCustomerType").change(function () {
                var value = $("#selCustomerType").val();
                if (value == 0) {
                    $("#txtMemberLevelId_do_addOrder").val(0);
                    $("#txtMemberCardId_do_addOrder").val(0);
                }
                else if (value == 1) {

                }
                else if (value == 2) {

                }
            });
        }

        function getFoodType() {
            var parasObj = {
                "userToken":userToken
            };
            var url = "/XCCloud/Foods?action=getFoodType";
            var parasJson = JSON.stringify(parasObj);
            common(url, parasJson);
        }

        function do_getOrderAuditQR() {
            var url = "/qr/e/" + userToken + "/" + $("#selAuditOrderType").val() + "/" + $("#txtAuditOrderId").val();
            window.open(url);
        }

        function do_getUserMobileSMSCode() {
            var parasObj = {"sysId": "0", "versionNo": "0.0.0.1", "mobile": $("#txtMobile1").val(), "userToken": userToken};
            var url = "/XCCloud/Member?action=getUserMobileSMSCode";
            var parasJson = JSON.stringify(parasObj);
            common(url, parasJson);
        }

        function do_getDiscountForAPI() {
            //var mercheId = $("#txtDiscount_mercheId_GetDiscountForAPI").val();
            //var storeId = $("#txtDiscount_storeId_GetDiscountForAPI").val();
            var customerType = $("#sel_CustomerType_do_getDiscountForAPI").val();
            var icCardId = $("#txtDiscount_icCardID_GetDiscountForAPI").val();
            var foodPrice = $("#txtDiscount_foodSale_GetDiscountForAPI").val();
            var parasObj = {
                "sysId": "0", "versionNo": "0.0.0.1", "userToken": userToken, "customerType": customerType,
                "icCardId": icCardId, "foodPrice": foodPrice
            };
            var url = "/XCCloud/Discount?action=getDiscountRuleList";
            var parasJson = JSON.stringify(parasObj);
            common(url, parasJson);
        }

        function do_GetMemberCouponList() {
            var icCardId = $("#txtCoupon_icCardID_GetMemberCouponList").val();
            var parasObj = {"sysId": "0", "versionNo": "0.0.0.1", "userToken": userToken,"icCardId": icCardId};
            var url = "/XCCloud/coupon?action=getMemberCouponList";
            var parasJson = JSON.stringify(parasObj);
            common(url, parasJson);
        }

        function do_addOrderToCache() {
            var customerType = $("#sel_CustomerType_do_addOrderToCache").val();
            var orderFlwId = $("#txt_FlwOrderId_do_addOrderToCache").val();
            var icCardId = $("#txt_MemberCardId_do_addOrderToCache").val();
            var registerMemberJson = {
                "mobile": "15618920033",
                "wechatOpenId": "wechatOpenId",
                "alipayOpenId": "alipayOpenId",
                "qq": "751192533",
                "imme": "",
                "cardShape": "1",
                "userName": "lijunjie2",
                "userPassword": "123456",
                "gender": 1,
                "birthday": "2019-01-01",
                "idCard": "",
                "eMail": "",
                "leftHandCode": "",
                "rightHandCode": "",
                "photo": "photo",
                "repeatCode": "",
                "icCardId": "10004145",
                "icCardUID": "32143432432",
                "note": "note"
            };
            var parasObj = {
                "sysId": "0", "versionNo": "0.0.0.1", "userToken": userToken, "customerType": customerType,
                "orderFlwId": orderFlwId, "icCardId": icCardId, "registerMemberJson": JSON.stringify(registerMemberJson)
            };
            var url = "/XCCloud/Order?action=addOrderToCache";
            var parasJson = JSON.stringify(parasObj);
            common(url, parasJson);
        }

        function do_GetDiscountRuleList() {
            var parasObj = { "sysId": "0", "versionNo": "0.0.0.1", "userToken": userToken };
            var url = "/XCCloud/Discount?action=getDiscountRuleList";
            var parasJson = JSON.stringify(parasObj);
            common(url, parasJson);
        }

        function do_GetCouponPrice() {

            var buyDetail1 = { couponId: 12, couponCode: "d79847caf5304d4188df251bd8c8d63d" };
            var buyDetail2 = { couponId: 13, couponCode: "e867895b7da8482d8e46fe449ce163dc" };

            var buyDetails = new Array();
            buyDetails.push(buyDetail1);
            buyDetails.push(buyDetail2);

            var foodPrice = $("#txtCoupon_do_GetCouponPrice").val();
            var parasObj = {
                "sysId": "0", "versionNo": "0.0.0.1", "userToken": userToken,
                "foodPrice": foodPrice, "authorFlag": "0", "couponDetails": JSON.stringify(buyDetails)
            };
            var url = "/XCCloud/Discount?action=getCouponPrice";
            var parasJson = JSON.stringify(parasObj);
            common(url, parasJson);
        }

        function do_GetCouponPrice() {

        }

        function do_getMd5TokenByRegWorkStation() {
            $("#dogId").val();
            $("#workStation").val();
            var parasObj = { "sysId": "0", "versionNo": "0.0.0.1", "dogId": "99999999", "workStation": "lijunjie" };
            var url = "/XCCloud/XCCloudMD5Key?action=getMd5Token";
            var parasJson = JSON.stringify(parasObj);
            common(url, parasJson);
        }

        function do_getCacheOrder() {
            var parasObj = { "sysId": "0", "versionNo": "0.0.0.1", "userToken" : userToken };
            var url = "/XCCloud/order?action=getCacheOrder";
            var parasJson = JSON.stringify(parasObj);
            common(url, parasJson);
        }

        function do_removeCacheOrder() {
            var orderId = $("#txt_FlwOrderId_do_removeCacheOrder").val();
            var parasObj = { "sysId": "0", "versionNo": "0.0.0.1", "userToken": userToken, "orderId": orderId };
            var url = "/XCCloud/order?action=removeOrder";
            var parasJson = JSON.stringify(parasObj);
            common(url, parasJson);
        }

        function do_saveRegisterMember() {
            var flwOrderId = $("#txt_FlwOrderId_do_saveRegisterMember").val();
            
            var registerMemberObj = {
                "mobile": "15618920033",
                "wechatOpenId": "wechatOpenId",
                "alipayOpenId": "alipayOpenId",
                "qq": "751192533",
                "imme": "",
                "cardShape": "1",
                "userName": "lijunjie2",
                "userPassword": "123456",
                "gender": 1,
                "birthday": "2019-01-01",
                "idCard": "",
                "eMail": "",
                "leftHandCode": "",
                "rightHandCode": "",
                "photo": "photo",
                "repeatCode": "",
                "icCardId": "10004145",
                "icCardUID": "32143432432",
                "note": "note"
            };

            var parasObj = {
                "sysId": "0", "versionNo": "0.0.0.1", "userToken": userToken,
                "flwOrderId": flwOrderId, "registerMemberJson": JSON.stringify(registerMemberObj)
            };
            var url = "/XCCloud/order?action=saveRegisterMember";
            var parasJson = JSON.stringify(parasObj);
            common(url, parasJson);
        }

        function do_payOrder() {
            //var FoodSaleDetailList1 = { foodId: 1, category: 0, foodCount: 1, payType: 0, payNum: 1 / 2.0 };
            //var FoodSaleDetailList2 = { foodId: 3, category: 0, foodCount: 2, payType: 0, payNum: 10 / 2.0 };
            //var FoodSaleDetailList3 = { foodId: 6, category: 0, foodCount: 1, payType: 98306, payNum: 100 };
            //var FoodSaleDetailList4 = { foodId: 4, category: 0, foodCount: 1, payType: 98307, payNum: 100 };
            //var FoodSaleDetailList5 = { foodId: 1, category: 1, foodCount: 1, payType: 0, payNum: 20 };
            //var FoodSaleDetailList6 = { foodId: 4, category: 2, foodCount: 1, payType: 0, payNum: 30 };

            //var foodSaleDetailListArray = new Array();
            //foodSaleDetailListArray.push(FoodSaleDetailList1);
            //foodSaleDetailListArray.push(FoodSaleDetailList2);
            //foodSaleDetailListArray.push(FoodSaleDetailList3);
            //foodSaleDetailListArray.push(FoodSaleDetailList4);
            //foodSaleDetailListArray.push(FoodSaleDetailList5);
            //foodSaleDetailListArray.push(FoodSaleDetailList6);

            var registerMemberObj = {
                "mobile": "15618920033",
                "wechatOpenId": "wechatOpenId",
                "alipayOpenId": "alipayOpenId",
                "qq": "751192533",
                "imme": "",
                "cardShape": "1",
                "userName": "lijunjie2",
                "userPassword": "123456",
                "gender": 1,
                "birthday": "2019-01-01",
                "idCard": "",
                "eMail": "",
                "leftHandCode": "",
                "rightHandCode": "",
                "photo": "photo",
                "repeatCode": 1234,
                "icCardId": "10004145",
                "icCardUID": "32143432432",
                "note": "note"
            };

            var parasObj = {
                "sysId": "0",
                "versionNo": "0.0.0.1",
                "userToken": userToken,
                "registerMemberJson": JSON.stringify(registerMemberObj),
                "flwOrderId": $("#txt_FlwOrderId_do_updateOrder").val(),
                "workStationId": "3",
                "mobile": "15618920033",
                "realPay": 50 + 5.5,
                "payType": "0"    
            };

            var url = "/XCCloud/order?action=payOrder";
            var parasJson = JSON.stringify(parasObj);
            common(url, parasJson);
        }

        function do_updateOrder() {
            var FoodSaleDetailList1 = { foodId: 1, category: 0, foodCount: 1, payType: 0, payNum: 1 / 2.0 };
            var FoodSaleDetailList2 = { foodId: 3, category: 0, foodCount: 2, payType: 0, payNum: 10 / 2.0 };
            var FoodSaleDetailList3 = { foodId: 6, category: 0, foodCount: 1, payType: 98306, payNum: 100 };
            var FoodSaleDetailList4 = { foodId: 4, category: 0, foodCount: 1, payType: 98307, payNum: 100 };
            var FoodSaleDetailList5 = { foodId: 1, category: 1, foodCount: 1, payType: 0, payNum: 20 };
            var FoodSaleDetailList6 = { foodId: 4, category: 2, foodCount: 1, payType: 0, payNum: 30 };

            var foodSaleDetailListArray = new Array();
            foodSaleDetailListArray.push(FoodSaleDetailList1);
            foodSaleDetailListArray.push(FoodSaleDetailList2);
            foodSaleDetailListArray.push(FoodSaleDetailList3);
            foodSaleDetailListArray.push(FoodSaleDetailList4);
            foodSaleDetailListArray.push(FoodSaleDetailList5);
            foodSaleDetailListArray.push(FoodSaleDetailList6);

            var couponsListArray = new Array();
            var foodSaleDetailList1 = { couponId: 12, couponCode: "d79847caf5304d4188df251bd8c8d63d" };
            var foodSaleDetailList2 = { couponId: 13, couponCode: "e867895b7da8482d8e46fe449ce163dc" };
            couponsListArray.push(foodSaleDetailList1);
            couponsListArray.push(foodSaleDetailList2);

            var parasObj = {
                "sysId": "0",
                "versionNo": "0.0.0.1",
                "userToken": userToken,
                "foodSaleDetailListJson": JSON.stringify(foodSaleDetailListArray),
                "couponsListJson": JSON.stringify(couponsListArray),
                "flwOrderId": '100025420106001' + '20180521' + '000010',
                "newFlwOrderId": "",
                "mobile": "15618920033",
                "icCardId": "10004143",
                "newFlwOrderId": "",
                "disticntRuleId": "6",
                "payCount": 50 + 5.5,
                "realPay": "0",
                "workStation": "lijunjie",
                "deposit": "0",
                "openFee": "0",
                "feePay": "1.0",
                "realPay": "2.0",
                "note": "", 
                "authorId": "3",
                "saleCoinType": "1",
                "orderSource": 0
            };
            var url = "/XCCloud/order?action=updateOrder";
            var parasJson = JSON.stringify(parasObj);
            common(url, parasJson);
        }
        

        function do_GetQuickFood() {
            var icCardId = $("#txt_do_GetQuickFoodICCardId").val();
            var parasObj = { "sysId": "0", "versionNo": "0.0.0.1", "userToken": userToken, "icCardId": icCardId };
            var url = "/XCCloud/foods?action=getQuickFood";
            var parasJson = JSON.stringify(parasObj);
            common(url, parasJson);
        }

        function do_getDeviceSetupInfo() {
            var icCardId = $("#txt_do_GetQuickFoodICCardId").val();
            var parasObj = { "sysId": "0", "versionNo": "0.0.0.1", "userToken": userToken, "type": 4, "workStation":"lijunjie" };
            var url = "/XCCloud/deviceinfo?action=getDeviceSetupInfo";
            var parasJson = JSON.stringify(parasObj);
            common(url, parasJson);
        }

        function do_getDeviceInfo() {
            var icCardId = $("#txt_do_GetQuickFoodICCardId").val();
            var parasObj = { "sysId": "0", "versionNo": "0.0.0.1", "userToken": userToken, "type": 4, "workStation": "lijunjie" };
            var url = "/XCCloud/deviceinfo?action=getDeviceInfo";
            var parasJson = JSON.stringify(parasObj);
            common(url, parasJson);
        }

        function do_ExitFood() {
            var foodSaleDetailList = { category:0, foodId:1, foodCount:1 };
            var foodSaleDetailListArray = new Array();
            foodSaleDetailListArray.push(foodSaleDetailList);

            var parasObj = {
                "sysId": "0",
                "versionNo": "0.0.0.1",
                "userToken": userToken,
                "flwOrderId": $("#txt_do_ExitFoodFlwOrderId").val(),
                "note": "lijunjie",
                "authorId":0,
                "exitFoodJson": JSON.stringify(foodSaleDetailListArray)
            };
            var url = "/XCCloud/foods?action=exitFood";
            var parasJson = JSON.stringify(parasObj);
            common(url, parasJson);
        }

        function do_getOrders() {
            var parasObj = {
                "sysId": "0",
                "versionNo": "0.0.0.1",
                "userToken": userToken,
                "flwOrderId": $("#txt_FlwOrderId_do_getOrders").val(),
                "icCardId": $("#txt_FlwOrderId_do_icCardId").val(),
                "startDate": $("#txt_FlwOrderId_do_startDate").val(),
                "endDate": $("#txt_FlwOrderId_do_endDate").val()
            };
            var url = "/XCCloud/Order?action=getOrders";
            var parasJson = JSON.stringify(parasObj);
            common(url, parasJson);
        }

        function do_getDeviceWorkInfo() {
            var workStation = "lijunjie";
            var parasObj = { "sysId": "0", "versionNo": "0.0.0.1", "userToken": userToken, "workStation": workStation };
            var url = "/XCCloud/DeviceInfo?action=getDeviceWorkInfo";
            var parasJson = JSON.stringify(parasObj);
            common(url, parasJson);
        }

        function do_getOrderDetailContain() {
            var flwOrderId = $("#txt_FlwOrderId_do_getOrdersDetail").val();
            var parasObj = { "sysId": "0", "versionNo": "0.0.0.1", "userToken": userToken, "flwOrderId": flwOrderId };
            var url = "/XCCloud/Order?action=getOrderDetailContain";
            var parasJson = JSON.stringify(parasObj);
            common(url, parasJson);
        }

        function do_getOrderSalePay() {
            var flwOrderId = "10002542010600120180517200810001";
            var parasObj = { "sysId": "0", "versionNo": "0.0.0.1", "userToken": userToken, "flwOrderId": flwOrderId };
            var url = "/XCCloud/Order?action=getOrderSalePay";
            var parasJson = JSON.stringify(parasObj);
            common(url, parasJson);
        }

        function do_getOrders() {
            var parasObj = {
                "sysId": "0",
                "versionNo": "0.0.0.1",
                "userToken": userToken,
                "orderId": $("#txt_FlwOrderId_do_getOrders").val(),
                "icCardId": $("#txt_FlwOrderId_do_icCardId").val(),
                "startDate": $("#txt_FlwOrderId_do_startDate").val(),
                "endDate": $("#txt_FlwOrderId_do_endDate").val()
            };
            var url = "/XCCloud/Order?action=getOrders";
            var parasJson = JSON.stringify(parasObj);
            common(url, parasJson);
        }

        function do_getMemberOpenCardInfo() {
            var parasObj = {
                "sysId": "0",
                "versionNo": "0.0.0.1",
                "userToken": userToken
            };
            var url = "/XCCloud/foods?action=getMemberOpenCardInfo";
            var parasJson = JSON.stringify(parasObj);
            common(url, parasJson);
        }

        function do_getFoodChargeInfo() {
            var parasObj = {
                "sysId": "0",
                "versionNo": "0.0.0.1",
                "userToken": userToken,
                "barCode": $("#txt_do_getFoodChargeInfo_barcode").val(),
                "goodName": $("#txt_do_getFoodChargeInfo_goodName").val()
            };
            var url = "/XCCloud/foods?action=getFoodChargeInfo";
            var parasJson = JSON.stringify(parasObj);
            common(url, parasJson);
        }

        //会员卡:<input id="txt_do_goodBuyBack_iccardid" type="text" value="" style="width:100px" />
        //    商品ID:<input id="txt_do_goodBuyBack_goodId" type="text" value="" style="width:60px" />
        //    商品数量:<input id="txt_do_goodBuyBack_goodNum" type="text" value="" style="width:60px" />
        //    使用余额类型:<select id="txt_do_goodBuyBack_balance">

        function do_goodBuyBack() {
            var parasObj = {
                "sysId": "0",
                "versionNo": "0.0.0.1",
                "userToken": userToken,
                "icCardId": $("#txt_do_goodBuyBack_iccardid").val(),
                "goodId": $("#txt_do_goodBuyBack_goodId").val(),
                "goodCount": $("#txt_do_goodBuyBack_goodNum").val(),
                "note": "",
                "useBalanceTypeId": $("#txt_do_goodBuyBack_balance").val()
            };
            var url = "/XCCloud/foods?action=goodBuyBack";
            var parasJson = JSON.stringify(parasObj);
            common(url, parasJson);
        }

        function do_RegWorkStation() {
            var dogId = "99999999";
            var workStation = "lijunjie";
            var parasObj = { "sysId": "0", "versionNo": "0.0.0.1", "dogId": dogId, "workStation": workStation };
            var url = "/XCCloud/Workstation?action=registerWorkStation";
            var parasJson = JSON.stringify(parasObj);
            common(url, parasJson);
        }

        function do_getBalanceType() {
            var parasObj = { "sysId": "0", "versionNo": "0.0.0.1", "userToken": userToken };
            var url = "/XCCloud/Foods?action=getBalanceType";
            var parasJson = JSON.stringify(parasObj);
            common(url, parasJson);
        }

        function do_getFoodDetailPayNum() {
            var foodSaleDetailList1 = { foodId:1,category:0,foodCount:1,payType:0,payNum: 100,realPayNum:100};
            var foodSaleDetailList2 = { foodId:3,category:0,foodCount:2,payType:0,payNum: 100,realPayNum:100};
            
            var foodSaleDetailListArray = new Array();
            foodSaleDetailListArray.push(foodSaleDetailList1);
            foodSaleDetailListArray.push(foodSaleDetailList2);

            var parasObj = { "sysId": "0", "versionNo": "0.0.0.1", "userToken": userToken, "icCardId": "10004143", "buyDetailsJson": JSON.stringify(foodSaleDetailListArray) };
            var url = "/XCCloud/Foods?action=getFoodDetailPayNum";
            var parasJson = JSON.stringify(parasObj);
            common(url, parasJson);
        }
        
    </script>
        
</head>
<body>
    <div title="会员" style="font-size:14px;color:#F00;border:1px solid #ccc;">
        门店Id:<input id="txtStoreId" placeholder="请输入门店Id" />
        手机号:<input id="txtMobile" placeholder="请输入手机号" />
        密码:<input id="txtPassword" placeholder="请输入密码" />
        工作站:<input id="txtWorkStation" placeholder="工作站" />
        <input id="Button_userlogin" type="button" value="do_userlogin(用户信息)" onclick="do_userlogin()" />
        用户token:<input id="txtUserToken" placeholder="请输入用户token" />  
    </div>

    <div title="Member" style="font-size:14px;color:#F00;border:1px solid #ccc;">
        <input id="Button_Member_1" type="button" value="do_MemberLevel(获取会员等级)" onclick="do_MemberLevel()" />
        &nbsp;&nbsp;&nbsp;&nbsp;
        会员卡号:<input id="txtMemberCardId" placeholder="请输入会员卡号" /><input id="Button_Member_2" type="button" value="do_Member(获取会员信息)" onclick="do_Member()" />
        &nbsp;&nbsp;&nbsp;&nbsp;
        会员等级ID:<input id="txtMemberLevelId_GetMemberOpenCardFoodInfo" placeholder="请输入会员等级" />
        <input id="Button_Member_3" type="button" value="do_GetMemberOpenCardFoodInfo(获取会员开卡套餐接口)" onclick="do_GetMemberOpenCardFoodInfo()" />
        &nbsp;&nbsp;&nbsp;&nbsp;
        手机号:<input id="txtMobile1" placeholder="请输入手机号" value="15618920033" />
        <input id="Button_Member_4" type="button" value="do_getUserMobileSMSCode(获取手机短信)" onclick="do_getUserMobileSMSCode()" />
    </div>
    <br />

    <div title="Food" style="font-size:14px;color:#F00;border:1px solid #ccc;">
        <input id="Button_Food_1" type="button" value="getFoodType(获取套餐类别)" onclick="getFoodType()" />
        &nbsp;&nbsp;&nbsp;&nbsp; 
        套餐类型：<input id="txtFoodListFoodTypeStr" type="text" value="0,1,2,3,4,5,6" /><input id="Button_Food_2" type="button" value="do_getFoodList(获取套餐列表)" onclick="do_getFoodList()" />
        &nbsp;&nbsp;&nbsp;&nbsp;
        客户类型:<select id="sel_CustomerType_do_GetFoodDetail"><option value="0">套餐</option><option value="1">门票</option><option value="2">商品</option></select>
        套餐Id：<input id="txt_do_GetFoodDetail" type="text" value="1" /><input id="Button_Food_3" type="button" value="do_GetFoodDetail(获取套餐明细)" onclick="do_GetFoodDetail()" />
        &nbsp;&nbsp;&nbsp;&nbsp;
        ICCardId：<input id="txt_do_GetQuickFoodICCardId" type="text" value="10004143" /><input id="Button_Food_3" type="button" value="do_GetQuickFood(获取快速套餐)" onclick="do_GetQuickFood()" />
        &nbsp;&nbsp;&nbsp;&nbsp;
        订单Id：<input id="txt_do_ExitFoodFlwOrderId" style="width:250px" type="text" value="10001636010300120180615500020000" />
        note：<input id="txt_do_ExitFoodNote" type="text" value="" />
        authorId:<input id="txt_do_ExitFoodAuthorId" type="text" value="0" />
        <input id="Button_Food_3" type="button" value="do_ExitFood(退餐)" onclick="do_ExitFood()" />
        &nbsp;&nbsp;&nbsp;&nbsp;
        <input id="Button_Food_6" type="button" value="do_getMemberOpenCardInfo(获取会员级别和开卡套餐)" onclick="do_getMemberOpenCardInfo()" />
        <br />
        &nbsp;&nbsp;&nbsp;&nbsp;
        商品条码:<input id="txt_do_getFoodChargeInfo_barcode" type="text" value="" style="width:250px" />
        商品名称:<input id="txt_do_getFoodChargeInfo_goodName" type="text" value="" />
        <input id="Button_Food_7" type="button" value="do_getFoodChargeInfo(获取商品兑换信息)" onclick="do_getFoodChargeInfo()" />
        &nbsp;&nbsp;&nbsp;&nbsp;
        会员卡:<input id="txt_do_goodBuyBack_iccardid" type="text" value="10004143" style="width:100px" />
        商品ID:<input id="txt_do_goodBuyBack_goodId" type="text" value="1" style="width:60px" />
        商品数量:<input id="txt_do_goodBuyBack_goodNum" type="text" value="2" style="width:60px" />
        使用余额类型:<select id="txt_do_goodBuyBack_balance"><option value="1">代币</option><option value="2">积分</option><option value="3">彩票</option></select>
        <input id="Button_Food_8" type="button" value="do_goodBuyBack(商品回购)" onclick="do_goodBuyBack()" />
    </div>
    <br />

    <div title="Discount" style="font-size:14px;color:#F00;border:1px solid #ccc;">
        <!--商户ID：<input id="txtDiscount_mercheId_GetDiscountForAPI" type="text" value="100025" />
        门店ID：<input id="txtDiscount_storeId_GetDiscountForAPI" type="text" value="100025420106001" />-->
        客户类型:<select id="sel_CustomerType_do_getDiscountForAPI"><option value="0">散客</option><option value="1">入会</option><option value="2">会员</option></select>
        会员ICCardID：<input id="txtDiscount_icCardID_GetDiscountForAPI" type="text" value="10004143" style="width:80px" />
        套餐销售金额：<input id="txtDiscount_foodSale_GetDiscountForAPI" type="text" value="300.00" style="width:60px" />
        <input id="btn_do_getDiscountForAPI" type="button" onclick="do_getDiscountForAPI()" value="获取满减金额"/>
        &nbsp;&nbsp;&nbsp;&nbsp;
        <input id="btn_do_GetDiscountRuleList" type="button" onclick="do_GetDiscountRuleList()" value="获取满减规则列表" />
    </div>
    <br />

    <div title="Coupon" style="font-size:14px;color:#F00;border:1px solid #ccc;">
        会员ICCardID：<input id="txtCoupon_icCardID_GetMemberCouponList" type="text" value="10004143" style="width:80px" />
        <input id="btn_GetMemberCouponList" type="button" onclick="do_GetMemberCouponList()" value="获取会员优惠券" />
        &nbsp;&nbsp;&nbsp;&nbsp;
        金额：<input id="txtCoupon_do_GetCouponPrice" type="text" value="500" style="width:80px" />
        授权标记：<input id="txtCoupon_do_AuthorFlag" type="text" value="0" style="width:80px" />
        <input id="btn_do_GetCouponPrice" type="button" onclick="do_GetCouponPrice()" value="获取优惠券金额" />
    </div>
    <br />

    <!--<div title="Order" style="font-size:14px;color:#F00;border:1px solid #ccc;">
        <input id="Button_Order_1" type="button" value="do_GetOrder(获取订单流水号)" onclick="do_GetOrder()" />
    </div>-->

    <div title="order" style="font-size:14px;color:#F00;border:1px solid #ccc;">
        客户类型:<select id="sel_CustomerType_addOrder"><option value="0">散客</option><option value="1">入会</option><option value="2">会员</option></select>
        会员级别（如果散客输入0）:<input id="txtMemberLevelId_do_addOrder" placeholder="请输入会员级别（如果散客输入0）" value="0" style="width:25px" />
        会员卡号:<input id="txtMemberCardId_do_addOrder" placeholder="请输入会员卡号" style="width:80px" value="10004143" />
        会员手机号码:<input id="txtMobile_do_addOrder" placeholder="请输入会员手机号码" style="width:100px" value="15618920033" />
        应付:<input id="txtPayCount_do_addOrder" placeholder="请输入应付" style="width:50px" value="5.5" />
        免费金额:<input id="txtDeposit_do_freePay" placeholder="请输入免费金额" style="width:50px" value="20.00" />
        会员开卡费用:<input id="txtOpenFee_do_addOrder" placeholder="请输入会员手机号码" style="width:50px" value="10.00" />
        会员押金:<input id="txtDeposit_do_addOrder" placeholder="请输入会员手机号码" style="width:50px" value="20.00" /> 
        <input id="btn_do_addOrder" type="button" value="do_addOrder(添加订单)" onclick="do_addOrder()" />
        &nbsp;&nbsp;&nbsp;&nbsp;
        客户类型:<select id="sel_CustomerType_do_addOrderToCache"><option value="0">散客</option><option value="1">入会</option><option value="2">会员</option></select>
        订单号:<input id="txt_FlwOrderId_do_addOrderToCache" placeholder="请输订单号" style="width:250px" value="0" />
        会员卡号:<input id="txt_MemberCardId_do_addOrderToCache" placeholder="请输入会员卡号" style="width:80px" value="10004143" />
        <input id="btn_do_addOrderToCache" type="button" value="do_addOrderToCache(添加订单)" onclick="do_addOrderToCache()" />
        &nbsp;&nbsp;&nbsp;&nbsp;
        <input id="btn_do_getCacheOrder" type="button" value="do_getCacheOrder(获取缓存订单信息)" onclick="do_getCacheOrder()" />
        &nbsp;&nbsp;&nbsp;&nbsp;
        订单号:<input id="txt_FlwOrderId_do_getOrderContain" placeholder="获取订单内容" style="width:250px" value="0" />
        <input id="Buttonorder_getOrderContain" type="button" value="getOrderContain(获取订单内容)" onclick="getOrderContain()"/>
        &nbsp;&nbsp;&nbsp;&nbsp;
        订单号:<input id="txt_FlwOrderId_do_getOrderContain" placeholder="获取订单内容" style="width:250px" value="0" />
        <input id="Buttonorder_updateOrder" type="button" value="do_updateOrder(更新订单)" onclick="do_updateOrder()" />
        &nbsp;&nbsp;&nbsp;&nbsp;
        订单号:<input id="txt_FlwOrderId_do_removeCacheOrder" placeholder="移除缓存订单" style="width:250px" value="0" />
        <input id="Buttonorder_removeCacheOrder" type="button" value="do_removeCacheOrder(移除缓存订单)" onclick="do_removeCacheOrder()" />
        &nbsp;&nbsp;&nbsp;&nbsp;
        订单号:<input id="txt_FlwOrderId_do_saveRegisterMember" placeholder="保存注册会员" style="width:250px" value="0" />
        <input id="Buttonorder_do_saveRegisterMember" type="button" value="do_saveRegisterMember(保存注册会员)" onclick="do_saveRegisterMember()" />
        &nbsp;&nbsp;&nbsp;&nbsp;
        订单号:<input id="txt_FlwOrderId_do_updateOrder" placeholder="支付订单" style="width:250px" value="0" />
        <input id="Buttonorder_do_updateOrder" type="button" value="do_payOrder(支付订单)" onclick="do_payOrder()" /> 
        &nbsp;&nbsp;&nbsp;&nbsp;
        订单号:<input id="txt_FlwOrderId_do_getOrders" placeholder="订单号" style="width:250px" value="0" />
        ICCardId:<input id="txt_FlwOrderId_do_icCardId" placeholder=" 订单号" style="width:100px" value="10004130" />
        开始日期:<input id="txt_FlwOrderId_do_startDate" placeholder="开始日期" style="width:100px" value="2016-01-01" />
        结束日期:<input id="txt_FlwOrderId_do_endDate" placeholder="结束日期" style="width:100px" value="2019-01-01" />
        <input id="Buttonorder_do_getOrders" type="button" value="do_getOrders(支付订单)" onclick="do_getOrders()" />
        &nbsp;&nbsp;&nbsp;&nbsp;
        订单号:<input id="txt_FlwOrderId_do_getOrdersDetail" placeholder="订单号" style="width:250px" value="0" />
        <input id="Buttonorder_do_getOrdersDetail" type="button" value="do_getOrderDetailContain(获取订单详情)" onclick="do_getOrderDetailContain()" /> 
        &nbsp;&nbsp;&nbsp;&nbsp;
        <input id="Button_Food_3" type="button" value="do_getOrderSalePay(退餐)" onclick="do_getOrderSalePay()" />
        &nbsp;&nbsp;&nbsp;&nbsp;
        <input id="Button_Food_5" type="button" value="do_getBalanceType(获取余额类型)" onclick="do_getBalanceType()" />
        &nbsp;&nbsp;&nbsp;&nbsp;
        <input id="Button_Food_6" type="button" value="do_getFoodDetailPayNum(获取套餐明细支付)" onclick="do_getFoodDetailPayNum()" />
    </div>

    <div title="discount" style="font-size:14px;color:#F00;border:1px solid #ccc;">
        
    </div>

    <div title="do_getOrderAuditQR" style="font-size:14px;color:#F00;border:1px solid #ccc;">
        审核订单类型:<select id="selAuditOrderType"><option value="0">销售订单</option></select>
        审核订单号:<input id="txtAuditOrderId" placeholder="审核订单号" value="" style="width:250px" />
        <input id="Buttonorder_do_getOrderAuditQR" type="button" value="do_getOrderAuditQR(添加订单)" onclick="do_getOrderAuditQR()" />
        <img id="imgOrderAuditQR" />
    </div>

    <div title="设备">
        <input id="Button_getDeviceSetupInfo" type="button" value="do_getDeviceSetupInfo(获取设备配置信息)" onclick="do_getDeviceSetupInfo()" />
        <input id="Button_getDeviceInfo" type="button" value="do_getDeviceInfo(获取设备信息)" onclick="do_getDeviceInfo()" />
        <input id="Button_getDeviceWorkInfo" type="button" value="do_getDeviceWorkInfo(获取设备工作信息)" onclick="do_getDeviceWorkInfo()" />
    </div>

    <div title="do_UserToken" style="font-size:14px;color:#F00;border:1px solid #ccc;">
        <input id="Buttonorder_12222" type="button" value="do_UserToken(获取用户token)" onclick="do_UserToken()" />
    </div>
    <div title="do_addToken" style="font-size:14px;color:#F00;border:1px solid #ccc;">
        <input id="Buttonorder_12222" type="button" value="do_addToken(验证token)" onclick="do_addToken()" />
    </div>
    <div title="doProject" style="font-size:14px;color:#F00;border:1px solid #ccc;">
        <input id="Buttonorder_12222" type="button" value="doProject(获取门票信息)" onclick="doProject()" />
    </div>
    <div title="do_saveCoins" style="font-size:14px;color:#F00;border:1px solid #ccc;">
        <input id="Buttonorder_12222" type="button" value="dodevice(添加总表设备信息)" onclick="dodevice()" />
    </div>
    <div title="registerMember" style="font-size:14px;color:#F00;border:1px solid #ccc;">
        <input id="Buttonorder_12222111" type="button" value="registerMember(注册会员)" onclick="registerMember()" />
    </div>
    <div title="checkCanRegister" style="font-size:14px;color:#F00;border:1px solid #ccc;">
        <input id="Buttonorder_122221111" type="button" value="checkCanRegister(注册会员)" onclick="checkCanRegister()" />
    </div>
    <div title="checkCanRegister" style="font-size:14px;color:#F00;border:1px solid #ccc;">
        
    </div>
    <div title="WorkStation" style="font-size:14px;color:#F00;border:1px solid #ccc;">
        <input id="WorkStation_11111" type="button" value="do_getMd5TokenByRegWorkStation(注册会员)" onclick="do_getMd5TokenByRegWorkStation()" />
        <input id="WorkStation_22222" type="button" value="do_RegWorkStation(注册工作站)" onclick="do_RegWorkStation()" />
    </div>


   <br />

</body>
</html>
