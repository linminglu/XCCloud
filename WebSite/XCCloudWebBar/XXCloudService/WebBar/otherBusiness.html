<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>吧台</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- 引入样式 -->
    <link rel="stylesheet" type="text/css" href="http://unpkg.com/iview/dist/styles/iview.css">
    <script type="text/javascript" src="js/vue.min.js"></script>
    <script type="text/javascript" src="js/iview.min.js"></script>
    <link rel='icon' href='xinchen.ico ' type='image/x-ico'/>

    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/swiper.min.css">
    <link href="css/bootstrap-table.css" rel="stylesheet">
    <link rel="stylesheet" href="css/iconfont.css">
    <link href="css/style.css" rel="stylesheet">
    <link rel="stylesheet" href="css/bootstrap-datetimepicker.min.css" rel="external nofollow" >
 
    <style>
        /*新style*/
        .menu{width: 840px;margin: 100px auto;/*padding: 15px;list-style: none;counter-reset: li;/*background: #eee;*//*-moz-box-shadow: 0 1px 2px rgba(0, 0, 0, .1) inset;*//*-webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, .1) inset;*//*box-shadow: 0 1px 2px rgba(0, 0, 0, .1) inset;*//*-moz-border-radius: 10px;*//*-webkit-border-radius: 10px;*//*border-radius: 10px;*/}
        .menu:before, .menu:after{content: "";display: table;}
        .menu:after{clear: both;}
        .menu{zoom:1;}
        .menuli{position: relative;float: left;cursor: pointer;height: 120px;width: 200px;margin: 10px 0 0 10px;color: #fff;}
        .menuli:hover, .menuli:focus{background-image: -webkit-gradient(linear, left top, left bottom, from(rgba(255, 255, 255, .2)), to(rgba(255, 255, 255, 0)));background-image: -webkit-linear-gradient(top, rgba(255, 255, 255, .2), rgba(255, 255, 255, 0));background-image: -moz-linear-gradient(top, rgba(255, 255, 255, .2), rgba(255, 255, 255, 0));background-image: -ms-linear-gradient(top, rgba(255, 255, 255, .2), rgba(255, 255, 255, 0));background-image: -o-linear-gradient(top, rgba(255, 255, 255, .2), rgba(255, 255, 255, 0));background-image: linear-gradient(top, rgba(255, 255, 255, .2), rgba(255, 255, 255, 0));}
        .menu .cover{z-index: 2;}
        .menu .cover:focus{outline: 0;}
        .menuli::after{content: counter(li);counter-increment: li;font: italic bold 10px serif, georgia;position: absolute;color: rgba(255, 255, 255, .1);opacity: 0;/*-webkit-transition: all .2s ease-out;-moz-transition: all .2s ease-out;-ms-transition: all .2s ease-out;-o-transition: all .2s ease-out;*/transition: all 0.5s ease-out;}
        .menuli:hover::after, .menuli:focus::after{font-size: 100px;opacity: 1;}
        .menu .cover::after{z-index: -1;}
        .menu li.menuli.menuli:nth-child(1), .menu li.menuli.menuli:nth-child(1) .content, .menu li.menuli.menuli:nth-child(1) .close{background-color: #DA70D6;}
        .menu li.menuli:nth-child(2), .menu li.menuli:nth-child(2) .content, .menu li.menuli:nth-child(2) .close{background-color: #349ffd;}
        .menu li.menuli:nth-child(3), .menu li.menuli:nth-child(3) .content, .menu li.menuli:nth-child(3) .close{background-color: #349ffd;}
        .menu li.menuli:nth-child(4), .menu li.menuli:nth-child(4) .content, .menu li.menuli:nth-child(4) .close{background-color: #349ffd;}
        .menu li.menuli:nth-child(5), .menu li.menuli:nth-child(5) .content, .menu li.menuli:nth-child(5) .close{background-color: #349ffd;}
        .menu li.menuli:nth-child(6), .menu li.menuli:nth-child(6) .content, .menu li.menuli:nth-child(6) .close{background-color: rgb(190, 178, 178);}
        .menu li.menuli:nth-child(7), .menu li.menuli:nth-child(7) .content, .menu li.menuli:nth-child(7) .close{background-color: rgb(190, 178, 178);}
        .menu li.menuli:nth-child(8), .menu li.menuli:nth-child(8) .content, .menu li.menuli:nth-child(8) .close{background-color: rgb(190, 178, 178);}
        .menu li.menuli:nth-child(9), .menu li.menuli:nth-child(9) .content, .menu li.menuli:nth-child(9) .close{background-color: #808080;}
        .menu li.menuli:nth-child(10), .menu li.menuli:nth-child(10) .content, .menu li.menuli:nth-child(10) .close{background-color: #808080;}
        .menu li.menuli:nth-child(11), .menu li.menuli:nth-child(11) .content, .menu li.menuli:nth-child(11) .close{background-color: #808080;}
        .menu li.menuli:nth-child(12), .menu li.menuli:nth-child(12) .content, .menu li.menuli:nth-child(12) .close{background-color: #808080;}
        .menu .content{opacity: 0;display: none;overflow:visible;font: 12px Arial, Helvetica;position: fixed;height: 120px;width: 200px; left: 50%;margin-left: -100px;top: 40%;margin-top: -40px; /*-webkit-transition: all .3s ease-out;-moz-transition: all .3s ease-out;-ms-transition: all .3s ease-out;-o-transition: all .3s ease-out;transition: all .3s ease-out;*/}
        .menu .expanded{opacity: .95;display: block;overflow: visible;padding: 40px;height: 300px;width: 540px;transition: all 3s ease-out;}
        .menu li.menuli:nth-child(3n) .content{/* 3,6,9*/right: 0;}
        .menu li.menuli:nth-child(3n-1) .expanded{/* 2,5,8*/left: 50%;margin-left: -310px;}
        .menu li.menuli:nth-child(7) .content,
        .menu li.menuli:nth-child(8) .content, .menu li.menuli:nth-child(9) .content, .menu li.menuli:nth-child(10) .content{bottom: 0;}
        .menu li.menuli:nth-child(4) .expanded,
        .menu li.menuli:nth-child(5) .expanded, .menu li.menuli:nth-child(6) .expanded{margin-top: -190px;top: 50%;}
        .menu .title{position: absolute;height: 100%;width: 100%;text-align: center;font: italic bold 1.3em/120px 'trebuchet MS', Arial, helvetica;opacity: .3;}
        .menu .title i{font-size: 40px;}
        .menuli:hover .title{opacity: .7;}
        .menu .close{display: none;border: 5px solid #fff;color: #fff;cursor: pointer;height: 50px;width: 50px;font: bold 20px/40px arial, helvetica;position: absolute;text-align: center;top: -20px;right: -20px;-moz-border-radius: 40px;-webkit-border-radius: 40px;border-radius: 40px;z-index: 99999;}
        .menu .cover .close{display: block;}

        .menu-marginTop{margin-top: 1.5em;}
        .menu-style{margin-top: 1em;line-height: 2em;font-size: 1.1em;}
        .pad_0{padding-left: 0;padding-right: 0;}
        .menu-radio{margin:0 0.5em;}
        .menu-radio input{height: 1.2em;width: 1.2em;}
        .margin1{margin-top: 1em;}
        .menu-btn{display: flex; flex-direction: row;justify-content: space-between;margin-top: 2em;padding: 0 2em;}
        .menu-btn button{width: 36%;}
        .menu-r-btn{text-align: right;padding-right: 3em;margin-bottom: 1em;margin-top: 2em;} */
        .margin-02 input{margin-top: -0.3em}
        .width50 button{width: 50%}
        .order-style{margin-top: 0.5em;line-height: 1.6em;font-size: 1em;padding-left: 10px!important;padding-right: 10px!important;}
        /*.order-style input{height: 1.6em;width: 100%;line-height:2em;padding-left: 0.5em;}*/
        /*.order-style label{padding-left: 10px;padding-right: 0;}*/
        /*.order-style textarea{height: 3.2em;font-size: 0.8em;line-height: 1em;}*/
        .heightOver{overflow-y: auto;overflow-x: hidden;height: 500px;padding: 0;}
        .order-btn{display: flex; flex-direction: row;justify-content: space-between;margin-top: 2em;padding: 0 1em;}
        .menu-btn button{width: 30%;margin: 0 1em;}
        .input-group[class*=col-]{float: left;}
        .table{font-size: 1em;}
        .input-group-addon{border: none;}
        .cardLoss{ border-top:1px solid #fefefe; border-bottom:1px solid #fefefe;font-size: 1.8em;height: 2.4em;line-height: 2.4em;color: #fefefe;margin-top: 1em;}
        .sendMessage{line-height: 0!important;}
        .onSwitch{background-color: #349ffd;border-radius: 5px;text-align: center;}
        .switchZdy {border-radius: 4px;background-color: #FFFFFF;padding:0;font-size: 1em;}
        .pad_10{padding-right: 5px;}
        .cardLoss-btn{margin-top: 2.5em;}
        .cardLoss-btn button{width: 100%;}
        /*谷歌滚动条样式修改*/
        .scrollbar{  width: 5px;  height: 100px;  margin: 0 auto;  }
        ::-webkit-scrollbar {/*滚动条整体样式*/  width: 5px;  /*高宽分别对应横竖滚动条的尺寸*/  height: 1px;}
        ::-webkit-scrollbar-thumb {/*滚动条里面小方块*/ border-radius: 10px; -webkit-box-shadow: inset 0 0 5px rgba(0,0,0,0.2); background: #535353;}
        ::-webkit-scrollbar-track {/*滚动条里面轨道*/-webkit-box-shadow: inset 0 0 5px rgba(0,0,0,0.2);border-radius: 10px;background: #EDEDED;}
        .otherAddon{width: 7em;}
        .padding_right{padding-right:0!important;}
        .padding_left{padding-left:0!important;}
        .dropChoosesty li{padding: 0 15px;font-size: 1.3em;line-height: 2.5em;}
        .dropChoosesty li span{margin-right: 8px;position: relative;top: 4px;}
        .dropChoosesty li:nth-child(1) span{color: #349ffd;font-size:2em;}
        .dropChoosesty li:nth-child(2) span{color: #00ffff;font-size:1.4em;}
        .dropChoosesty li:nth-child(3) span{color: #5b6270;font-size:1.1em;}
        .cardChoosesty li{padding: 0 15px;line-height: 2.5em;}
        .cardChoosesty li em{font-size: 1em;color:#666;line-height: 2.5em;}
        .cardChoosesty li span{margin-right: 8px;position: relative;top: 2px;}
        .cardChoosesty li:nth-child(1) span{color: #349ffd;font-size:1.5em;}
        .cardChoosesty li:nth-child(2) span{color: #00ffff;font-size:1.1em;}
        .readCard:hover{background-color: #b196fd;color: #fefefe;}
    </style>
</head>
<body>
<div id="app" v-cloak>
    <!--header-->
    
    <div class="container-fluid boxShadow">
        <!--导航-->
        <div class="navbar-collapse collapse">
            <div class="navbar-header">
                <a href="index.html" class="navbar-brand"><img src="images/logo.png"></a>
            </div>
            <ul class="nav navbar-nav navbar-right">
                <li><a class="boxBtn" href="javascript:void(0);"><span class="glyphicon glyphicon-menu-down"></span>&nbsp;&nbsp;现金:￥10500</a></li>
                <li class="active"><a href="index.html"><span class="glyphicon glyphicon-home"></span>&nbsp;&nbsp;莘宸乐园【同城广场店】</a></li>
                <li><a href="#"><span class="glyphicon glyphicon-user mag-_r1"></span><i>当前操作员：</i>&nbsp;&nbsp;张三</a></li>
                <li class="dropdown">
                    <a data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        未读消息 (0)
                        <span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a href="index.html">1</a></li>
                        <li><a href="index.html">1</a></li>
                        <li><a href="index.html">1</a></li>
                        <li><a href="index.html">1</a></li>
                    </ul>
                </li>
                <li class="dropdown">
                    <a data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        admin
                        <span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="dLabel">
                        <li><a href="index.html"><span class="glyphicon glyphicon-screenshot"></span>&nbsp;&nbsp;前台首页</a></li>
                        <li><a href="index.html"><span class="glyphicon glyphicon-user"></span>&nbsp;&nbsp;个人主页</a></li>
                        <li><a href="index.html"><span class="glyphicon glyphicon-cog"></span>&nbsp;&nbsp;个人设置</a></li>
                        <li><a href="index.html"><span class="glyphicon glyphicon-credit-card"></span>&nbsp;&nbsp;账户中心</a></li>
                        <li><a href="index.html"><span class="glyphicon glyphicon-heart"></span>&nbsp;&nbsp;我的收藏</a></li>
                    </ul>
                </li>
                <li><a href="#"><span class="glyphicon glyphicon-off"></span>&nbsp;&nbsp;退出</a></li>
                <div class="bbs text-right">
                    <p>开班时间：2017-08-23 15:38:12 <span>当前时间： <em id="oDiv"></em></span></p>
                </div>
            </ul>
            <div class="navbar-right navLeftS">
                <!--<div class="col-md-6 col-sm-6 navStyle">-->
                <div class="navStyle">
                    <h4>售币机</h4>
                    <p>18000/30000</p>
                </div>
                <div class="navT">60%</div>
            </div>
        </div>
        <!--导航-->
    </div>
    <!--查询获取卡列表-->
    <div class="modal fade bs-example-modal-md" id="cardList" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
            <div class="modal-dialog modal-md" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span>&times;</span></button>
                        <h4 class="modal-title">温馨提示</h4>
                    </div>
                    <div class="modal-body row">
                        <div class="tab-text col-lg-12 col-md-12" v-if="inquireCard.show">
                            <div class="input-group col-lg-7 col-md-7">
                                <span class="input-group-addon">验证码：</span>
                                <input class="form-control" v-model="inquireCard.mobileCode"/>
                                <div class="input-group-btn">
                                    <input class="form-control btnSendCode readCard" type="button" v-model="inquireCard.codeBtn" @click="sendCode('1')" :disabled="inquireCard.disabled"/>
                                </div>
                            </div>
                            <div class="input-group col-lg-5 col-md-5">
                                <div class="input-group-btn">
                                    <button type="button" class="btn btn-default readCard" @click="getMember('2')">按手机号查询</button>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-12 col-md-12 cardList">
                            <table class="table table-bordered">
                                <tr v-for="(item,index) in cardList" @click="radioCard(index)">
                                    <td><input type="radio" name="optionsRadios" :value="index" v-model="radioValue"></td>
                                    <td>
                                        <h4>会员卡号</h4>
                                        <p>{{item.ICCardNo}}</p>
                                    </td>
                                    <td>
                                        <h4>到期日期</h4>
                                        <p>{{item.EndDate}}</p>
                                    </td>
                                    <td>
                                        <h4>会员等级</h4>
                                        <p>{{item.LevelName}}</p>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    <!-- Modal(通用提示框) -->
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="myModalLabel">温馨提示</h4>
                </div>
                <div class="modal-body">
                    {{ msg }}
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <div class="container-fluid">
        <div class="row">
            <ul class="menu">
                <li class="menuli" tabindex="1">
                    <span class="title"><i class="icon iconfont icon-batai"></i>收银台</span>
                    <div class="content">
                    </div>
                </li>
                <li class="menuli" tabindex="1">
                    <span class="title"><i class="icon iconfont icon-jingdianmenpiao"></i>终端扣门票</span>
                    <div class="content"><span class="close">x</span>
                        <div class="menu-main container-fluid">
                            <div class="row">
                                <div class="col-md-12 col-sm-12">
                                    <div class="col-md-4 col-sm-4 menu-style">
                                        <div class="input-group col-lg-12 col-md-12 menu-style">
                                            <span class="input-group-addon">扣费项目：</span>
                                            <input type="text" class="form-control" placeholder="扣费项目"/>
                                        </div>
                                        <div class="input-group col-lg-12 col-md-12 menu-style">
                                            <span class="input-group-addon">会员卡号：</span>
                                            <input type="text" class="form-control" placeholder="门票票码"/>
                                            <div class="input-group-btn">
                                                <button type="button" class="btn btn-default">读卡</button>
                                            </div>
                                        </div>
                                        <div class="input-group col-lg-12 col-md-12 menu-style">
                                            <span class="input-group-addon">门票票码：</span>
                                            <input type="text" class="form-control" placeholder="门票票码"/>
                                        </div>
                                    </div>
                                    <div class="col-md-3 col-sm-3 menu-style">
                                        <div class="radio col-md-12 col-sm-12 menu-style">
                                            <label class="menu-radio">
                                                <input type="radio" name="optionsRadios" value="option1" checked>
                                                入闸
                                            </label>
                                            <label class="menu-radio">
                                                <input type="radio" name="optionsRadios" value="option2">
                                                出闸
                                            </label>
                                        </div>
                                        <div class="input-group col-lg-12 col-md-12 menu-style">
                                            <span class="input-group-addon">验票次数：</span>
                                            <input type="text" class="form-control" placeholder="次数"/>
                                        </div>

                                    </div>
                                    <div class="col-md-5 col-sm-5 menu-style">
                                        <label class="col-sm-12 control-label menu-style">使用说明</label>
                                        <div class="col-sm-12 menu-style">
                                            <textarea class="form-control" rows="3"></textarea>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-12 col-sm-12 margin1">
                                    <table class="table table-bordered">
                                        <thead style="background: #f5f5f5">
                                        <tr>
                                            <th>门票</th>
                                            <th>类型</th>
                                            <th>购买时间</th>
                                            <th>过期时间</th>
                                            <th> 总次数</th>
                                            <th>已使用</th>
                                            <th>剩余次数</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr v-for="items in refundData">
                                            <td>{{items.balanceType}}</td>
                                            <td>{{items.balance}}</td>
                                            <td>{{items.balance1}}</td>
                                            <td>{{items.balance2}}</td>
                                            <td>{{items.balance3}}</td>
                                            <td>{{items.balance4}}</td>
                                            <td>{{items.balance5}}</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </li>
                <li class="menuli" tabindex="1">
                    <span class="title"><i class="icon iconfont icon-peitongruxue"></i>陪同票</span>
                    <div class="content"><span class="close">x</span>
                        <div class="menu-main container-fluid">
                            <div class="row menu-marginTop">
                                <div class="col-md-5 col-sm-5 menu-style">
                                    <div class="input-group">
                                        <span class="input-group-addon">会员卡号：</span>
                                        <input type="text" class="form-control" placeholder="门票票码"/>
                                        <div class="input-group-btn">
                                            <button type="button" class="btn btn-default">读卡</button>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-7 col-sm-7 menu-style">
                                    <div class="input-group">
                                        <span class="input-group-addon">门票票码：</span>
                                        <input type="text" class="form-control" placeholder="门票票码"/>
                                    </div>
                                </div>
                                <div class="col-md-12 col-sm-12 margin1">
                                    <table class="table table-bordered">
                                        <thead style="background: #f5f5f5">
                                        <tr>
                                            <th></th>
                                            <th>门票</th>
                                            <th>类型</th>
                                            <th>购买时间</th>
                                            <th>过期时间</th>
                                            <th> 总次数</th>
                                            <th>已使用</th>
                                            <th>剩余次数</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr v-for="items in refundData">
                                            <td><input type="radio" name="optionsRadios"></td>
                                            <td>{{items.balanceType}}</td>
                                            <td>{{items.balance}}</td>
                                            <td>{{items.balance1}}</td>
                                            <td>{{items.balance2}}</td>
                                            <td>{{items.balance3}}</td>
                                            <td>{{items.balance4}}</td>
                                            <td>{{items.balance5}}</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="col-md-4 col-sm-4 menu-style">
                                    <div class="input-group">
                                        <span class="input-group-addon">陪同票单价：</span>
                                        <input type="text" class="form-control" placeholder="陪同票单价"/>
                                    </div>
                                </div>
                                <div class="col-md-4 col-sm-4 menu-style">
                                    <div class="input-group">
                                        <span class="input-group-addon">购买数量：</span>
                                        <input type="text" class="form-control" placeholder="购买数量"/>
                                    </div>
                                </div>
                                <div class="col-md-4 col-sm-4 menu-style">
                                    <div class="input-group">
                                        <span class="input-group-addon">支付方式：</span>
                                        <select  class="form-control">
                                            <option value="0">现金</option>
                                            <option value="1">代币</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-8 col-sm-8"></div>
                                <div class="col-md-3 col-sm-3 menu-r-btn"><button type="button" class="btn">购买</button></div>
                            </div>
                        </div>
                    </div>
                </li>
                <li class="menuli" tabindex="1">
                    <span class="title"> <i class="icon iconfont icon-jishi"></i>计时票补、退款</span>
                    <div class="content"><span class="close">x</span>
                        <div class="menu-main container-fluid">
                            <div class="row menu-marginTop">
                                <div class="col-md-3 col-sm-3"></div>
                                <div class="col-md-6 col-sm-6 menu-style">
                                    <div class="input-group col-md-12 col-sm-12 menu-style">
                                        <span class="input-group-addon">门票票码：</span>
                                        <input type="text" class="form-control" placeholder="门票票码"/>
                                    </div>
                                    <div class="input-group col-md-12 col-sm-12 menu-style">
                                        <span class="input-group-addon">门票名称：</span>
                                        <input type="text" class="form-control" placeholder="门票名称"/>
                                    </div>
                                    <div class="input-group col-md-12 col-sm-12 menu-style">
                                        <span class="input-group-addon">入闸时间：</span>
                                        <input type="text" class="form-control" placeholder="入闸时间"/>
                                    </div>
                                    <div class="input-group col-md-12 col-sm-12 menu-style">
                                        <span class="input-group-addon">已缴费：</span>
                                        <input type="text" class="form-control" placeholder="已缴费"/>
                                    </div>
                                    <div class="input-group col-md-12 col-sm-12 menu-style">
                                        <span class="input-group-addon">入闸消费：</span>
                                        <input type="text" class="form-control" placeholder="入闸消费"/>
                                    </div>
                                    <div class="input-group col-md-12 col-sm-12 menu-style">
                                        <span class="input-group-addon">出闸缴费：</span>
                                        <input type="text" class="form-control" placeholder="出闸缴费"/>
                                    </div>
                                    <div class="col-md-12 col-sm-12 menu-btn">
                                        <button type="button" class="btn btn-primary">退费</button>
                                        <button type="button" class="btn btn-primary">补交</button>
                                    </div>
                                </div>
                                <div class="col-md-3 col-sm-3"></div>
                            </div>
                        </div>
                    </div>
                </li>
                <li class="menuli" tabindex="1">
                    <span class="title" @click="clearUp"><i class="icon iconfont icon-qinglikehu"></i>手工清场</span>
                    <div class="content"><span class="close">x</span>
                        <div class="content"><span class="close">x</span>
                            <div class="menu-main container-fluid">
                                <div class="row menu-marginTop">
                                    <div class="col-md-12 col-sm-12 menu-style">
                                        <div class="input-group col-md-5 col-sm-5 menu-style">
                                            <span class="input-group-addon">扣费项目：</span>
                                            <i-select v-model="siteClearing.selectValue" style="width:200px">
                                                <i-option v-for="item in siteClearing.optionList" :value="item.ProjectId" :key="item.ProjectId">{{ item.ProjectName }}</i-option>
                                            </i-select>
                                        </div>
                                        <div class="col-md-4 col-sm-3 menu-style">
                                            <radio-group v-model="siteClearing.radioValue">
                                                <radio label="0">今天</radio>
                                                <radio label="1">全部日期</radio>
                                            </radio-group>
                                            <!-- <label class="menu-radio margin-02">
                                                <input type="radio" name="optionsRadios" value="option1" checked>
                                                今天
                                            </label>
                                            <label class="menu-radio margin-02">
                                                <input type="radio" name="optionsRadios" value="option2">
                                                全部日期
                                            </label> -->
                                        </div>
                                        <div class="col-md-3 col-sm-2 menu-style width50">
                                            <button type="button" class="btn btn-info" @click="sluiceList">刷新</button>
                                        </div>
                                        <div class="col-md-12 col-sm-12 menu-style" v-if="siteClearing.clearUpShow">
                                                <i-table ref="selection" :columns="historyColumns" :data="historyData" @on-select-all="AllData"></i-table>
                                                <div style="margin: 10px;overflow: hidden">
                                                    <div style="float: right;">
                                                        <Page :total="dataCount" :page-size="pageSize" show-total class="paging" @on-change="changepage"></Page>
                                                    </div>
                                                </div>
                                                <i-button @click="handleSelectAll(true)">Set all selected</i-button>
                                        </div>
                                    </div>
                                    <!-- <div class="col-md-12 col-sm-12 margin1">
                                        <i-table ref="selection" :columns="historyColumns" :data="historyData" @on-select-all="AllData"></i-table>
                                    </div>
                                    <div style="margin: 10px;overflow: hidden">
                                        <div style="float: right;">
                                            <Page :total="dataCount" :page-size="pageSize" show-total class="paging" @on-change="changepage"></Page>
                                        </div>
                                    </div>
                                    <Button @click="handleSelectAll(true)">批量清场</Button> -->
                                    <!-- <div class="col-md-12 col-sm-12 margin1">
                                        <table id="NotSluiceList" class="table table-bordered">
                                            <thead>
                                                <tr>
                                                    <th data-field="ProjectName">项目名称</th>
                                                    <th data-field="Payment">扣费方式</th>
                                                    <th data-field="MemberName">会员</th>
                                                    <th data-field="InTime">进场时间</th>
                                                    <th data-field="Expenses">入闸扣费</th>
                                                    <th data-field="UnpaidAmount">待缴场内消费</th>
                                                    <th data-field="TotalAmount">总费用</th>
                                                    <th data-field="orderStatusName">清场</th>
                                                </tr>
                                            </thead>
                                        </table>
                                        <table class="table table-bordered">
                                            <thead style="background: #f5f5f5">
                                            <tr>
                                                <th>项目名称</th>
                                                <th>扣费方式</th>
                                                <th>会员</th>
                                                <th>进场时间</th>
                                                <th>入闸扣费</th>
                                                <th>待缴场内消费</th>
                                                <th>总费用</th>
                                                <th>清场</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr v-for="(item,index) in siteClearing.NotSluiceList">
                                                <td>{{item.ProjectName}}</td>
                                                <td>{{item.Payment}}</td>
                                                <td>{{item.MemberName}}</td>
                                                <td>{{item.InTime}}</td>
                                                <td>{{item.Expenses}}</td>
                                                <td>{{item.UnpaidAmount}}</td>
                                                <td>{{item.TotalAmount}}</td>
                                                <td><button type="button" class="btn btn-info">清场</button></td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div> -->
                                    <!-- <div class="col-md-12 col-sm-12 menu-r-btn"><button type="button" class="btn btn-primary">批量清场</button></div> -->
                                </div>
                            </div>
                        </div>
                    </div>
                </li>
                <li class="menuli" tabindex="1">
                    <span class="title"><i class="icon iconfont icon-dingdanchaxun1"></i>订单查询</span>
                    <div class="content"><span class="close">x</span>
                        <div class="menu-main container-fluid">
                            <div class="row menu-marginTop">
                                <div class="col-md-4 col-sm-4 menu-style">
                                    <div class="input-group">
                                        <span class="input-group-addon">订单号：</span>
                                        <input type="text" class="form-control" placeholder="订单号" v-model="orderInquiry.orderNo"/>
                                    </div>
                                </div>
                               
                                <div class="input-group date form_date col-md-4 menu-style padding_right" data-date="2018-07-04" data-link-format="yyyy-mm-dd">
                                    <span class="input-group-addon">销售日期：</span>
                                    <input class="form-control"  type="text" v-model="orderInquiry.stratTime" readonly>
                                    <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>
                                </div>
                                <div class="input-group date form_date col-md-3 menu-style padding_left" data-date="2018-07-04" data-link-format="yyyy-mm-dd">
                                    <span class="input-group-addon">至</span>
                                    <input class="form-control"  type="text" v-model="orderInquiry.endTime" readonly>
                                    <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>
                                </div>
                                <div class="col-md-1 col-sm-1 menu-style">
                                    <button type="button" class="btn btn-primary" @click="getOrders">查询</button>
                                </div>

                                <div class="col-md-12 col-sm-12 heightOver">
                                    <div class="col-md-6 col-sm-6 menu-style">
                                        <table id="table" class="table table-bordered">
                                            <thead>
                                                <tr>
                                                    <th data-field="orderId">订单号</th>
                                                    <th data-field="saleTime">销售日期</th>
                                                    <th data-field="icCardId">会员</th>
                                                    <th data-field="payCount">支付金额</th>
                                                    <th data-field="orderStatusName">状态</th>
                                                </tr>
                                            </thead>
                                        </table>
                                        <!-- <table class="table table-bordered">
                                            <thead style="background: #f5f5f5">
                                            <tr>
                                                <th>订单号</th>
                                                <th>销售日期</th>
                                                <th>会员</th>
                                                <th>支付金额</th>
                                                <th>状态</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr v-for="(item,index) in orderInquiry.orderListData" @click.stop="orderDetails(index)">
                                                <td>{{item.orderId}}</td>
                                                <td>{{item.saleTime}}</td>
                                                <td>{{item.icCardId}}</td>
                                                <td>{{item.payCount}}</td>
                                                <td>{{item.orderStatusName}}</td>
                                            </tr>
                                            </tbody>
                                        </table> -->
                                        <table class="table table-bordered">
                                                <thead style="background: #f5f5f5">
                                                <tr>
                                                    <th>支付渠道</th>
                                                    <th>支付类别</th>
                                                    <th>支付</th>
                                                    <th>优惠</th>
                                                    <th>流水号</th>
                                                </tr>
                                                </thead>
                                                <tbody>
                                                <tr v-for="(item,index) in orderInquiry.orderPayData">
                                                    <td>{{item.balanceType}}</td>
                                                    <td>{{item.balanceIndex}}</td>
                                                    <td>{{item.payCount}}</td>
                                                    <td>{{item.balance2}}</td>
                                                    <td>{{item.balance3}}</td>
                                                </tr>
                                                </tbody>
                                            </table>
                                    </div>
                                    <div class="col-md-6 col-sm-6 order-style">
                                        <div class="input-group col-md-6 col-sm-6 order-style">
                                            <span class="input-group-addon otherAddon">订单号：</span>
                                            <input type="text" class="form-control" placeholder="订单号" v-model="orderInquiry.orderNo"/>
                                        </div>
                                        <div class="input-group col-md-6 col-sm-6 order-style">
                                            <span class="input-group-addon otherAddon">销售日期：</span>
                                            <input type="text" class="form-control" placeholder="销售日期" v-model="orderInquiry.theData"/>
                                        </div>
                                        <div class="input-group col-md-6 col-sm-6 order-style">
                                            <span class="input-group-addon otherAddon">应付金额：</span>
                                            <input type="text" class="form-control" placeholder="应付金额" v-model="orderInquiry.payable"/>
                                        </div>
                                        <div class="input-group col-md-6 col-sm-6 order-style">
                                            <span class="input-group-addon otherAddon">优惠金额：</span>
                                            <input type="text" class="form-control" placeholder="优惠金额" v-model="orderInquiry.preferential"/>
                                        </div>
                                        <div class="input-group col-md-6 col-sm-6 order-style">
                                            <span class="input-group-addon otherAddon">实付金额：</span>
                                            <input type="text" class="form-control" placeholder="实付金额" v-model="orderInquiry.realPay"/>
                                        </div>
                                        <div class="input-group col-md-6 col-sm-6 order-style">
                                            <span class="input-group-addon otherAddon">收银员：</span>
                                            <input type="text" class="form-control" placeholder="收银员" v-model="orderInquiry.cashier"/>
                                        </div>
                                        <div class="input-group col-md-12 col-sm-12 order-style">
                                            <span class="input-group-addon otherAddon">备注：</span>
                                            <textarea class="form-control" rows="2" v-model="orderInquiry.note"></textarea>
                                        </div>
                                        <div class="col-md-12 col-sm-12 order-style">
                                            <table class="table table-bordered">
                                                <thead style="background: #f5f5f5">
                                                <tr>
                                                    <th></th>
                                                    <th>商品名称</th>
                                                    <th>商品类别</th>
                                                    <th>购买数量</th>
                                                    <th>单价</th>
                                                    <th>小计</th>
                                                    <th>税率（%）</th>
                                                    <th>税费</th>
                                                </tr>
                                                </thead>
                                                <tbody>
                                                <tr v-for="(item,index) in orderInquiry.goodsData">
                                                    <td><input type="checkbox" :value="index" v-model="orderInquiry.exitChecked" @click.stop=""></td>
                                                    <td>{{item.foodName}}</td>
                                                    <td>{{item.category}}</td>
                                                    <td>{{item.saleCount}}</td>
                                                    <td>{{item.singlePrice}}</td>
                                                    <td>{{item.salePrice}}</td>
                                                    <td>{{item.taxFee}}</td>
                                                    <td>{{item.taxTotal}}</td>
                                                </tr>
                                                <tr>
                                                    <td></td>
                                                    <td>合计</td>
                                                    <td></td>
                                                    <td>{{orderInquiry.saleCount}}</td>
                                                    <td></td>
                                                    <td>{{orderInquiry.salePrice}}</td>
                                                    <td></td>
                                                    <td>{{orderInquiry.taxTotal}}</td>
                                                </tr>
                                                </tbody>
                                            </table>
                                            
                                        </div>
                                        <div class="col-md-12 col-sm-12 order-btn">
                                            <div class="col-md-3 col-sm-3"></div>
                                            <div class="col-md-3 col-sm-3">
                                                <button type="button" class="btn btn-primary" :disabled="orderInquiry.disabled" @click="exitFood">退货</button>
                                                <!-- :disabled="orderInquiry.disabled" -->
                                            </div>
                                            <div class="col-md-3 col-sm-3">
                                                <button type="button" class="btn btn-primary" :disabled="orderInquiry.disabled">重打小票</button>
                                            </div>
                                            <div class="col-md-3 col-sm-3">
                                                <button type="button" class="btn btn-primary" :disabled="orderInquiry.disabled">重打门票</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </li>
                <li class="menuli" tabindex="1">
                    <span class="title"><i class="icon iconfont icon-lipinhuigou"></i>礼品回购</span>
                    <div class="content">
                        <span class="close">x</span>
                        <div class="menu-main container-fluid">
                            <div class="row menu-marginTop">
                                <div class="col-md-12 col-sm-12 margin1">
                                    <div class="input-group col-md-6 col-sm-6 menu-style">
                                        <input type="text" class="form-control" placeholder="条码号/商品名称..." aria-describedby="basic-addon2">
                                        <span class="input-group-addon" aria-hidden="true"><span class="glyphicon glyphicon-search"></span></span>
                                    </div>
                                    <div class="col-md-2 col-sm-2"></div>
                                    <div class="input-group col-md-3 col-sm-3 menu-style">
                                        <input type="text" class="form-control" placeholder="会员卡号" aria-describedby="basic-addon2">
                                        <span class="input-group-btn">
                                            <button class="btn btn-default" type="button">读卡</button>
                                        </span>
                                    </div>
                                </div>
                                <div class="col-md-7 col-sm-7 margin1">
                                    <table class="table table-bordered">
                                        <thead style="background: #f5f5f5">
                                        <tr>
                                            <th>商品条码</th>
                                            <th>商品名称</th>
                                            <th>零售价</th>
                                            <th>回购代币数</th>
                                            <th>回购彩票数</th>
                                            <th>回购积分数</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr v-for="items in refundData">
                                            <td>{{items.balanceType}}</td>
                                            <td>{{items.balance}}</td>
                                            <td>{{items.balance1}}</td>
                                            <td>{{items.balance2}}</td>
                                            <td>{{items.balance3}}</td>
                                            <td>{{items.balance4}}</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="col-md-5 col-sm-5 margin1">
                                    <div class="col-md-12 col-sm-12 menu-style">
                                        <div class="input-group">
                                            <span class="input-group-addon">会员姓名：</span>
                                            <input type="text" class="form-control" placeholder="会员姓名"/>
                                        </div>
                                    </div>
                                    <div class="col-md-12 col-sm-12 menu-style">
                                        <div class="input-group">
                                            <span class="input-group-addon">会员级别：</span>
                                            <input type="text" class="form-control" placeholder="会员级别"/>
                                        </div>
                                    </div>
                                    <div class="col-md-12 col-sm-12 margin1">
                                        <table class="table table-bordered">
                                            <thead style="background: #f5f5f5">
                                            <tr>
                                                <th>余额种类</th>
                                                <th>余额</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr v-for="items in refundData">
                                                <td>{{items.balanceType}}</td>
                                                <td>{{items.balance}}</td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <div class="col-md-12 col-sm-12 margin1">
                                    <div class="col-md-4 col-sm-4 menu-style">
                                        <div class="input-group">
                                            <span class="input-group-addon">兑换种类：</span>
                                            <input type="text" class="form-control" placeholder="兑换种类"/>
                                        </div>
                                    </div>
                                    <div class="col-md-4 col-sm-4 menu-style">
                                        <div class="input-group">
                                            <span class="input-group-addon">兑换数量：</span>
                                            <input type="text" class="form-control" placeholder="兑换种类"/>
                                        </div>
                                    </div>
                                    <div class="col-md-4 col-sm-4 menu-style">
                                        <div class="input-group">
                                            <span class="input-group-addon">兑换价值：</span>
                                            <input type="text" class="form-control" placeholder="兑换种类"/>
                                        </div>
                                    </div>
                                    <div class="col-md-12 col-sm-12 menu-r-btn"><button type="button" class="btn btn-primary">兑换</button></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </li>
                <li class="menuli" tabindex="1">
                    <span class="title"><i class="icon iconfont icon-icon"></i>会员过户操作</span>
                    <div class="content">
                        <span class="close">x</span>
                        <div class="menu-main container-fluid">
                            <div class="row menu-marginTop">
                                <div class="col-lg-4 col-md-4">
                                    <!-- <div class="input-group col-lg-12 col-md-12 tab-style">
                                        <span class="input-group-addon addonWidth">转出卡卡号：</span>
                                        <input  class="form-control" v-model="transferData.fromICCardId"/>
                                        <div class="input-group-btn">
                                            <button type="button" class="btn btn-default readCard" :disabled="loading" @click="fromICCardIdReadCard">读取</button>
                                        </div>
                                    </div> -->
                                    <div class="btn-group dropup col-lg-12 col-md-12">
                                        <button type="button" class="btn btn-default">转出卡卡号：</button>
                                        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"  aria-expanded="false">
                                            <span class="caret"></span>
                                        </button>
                                        <ul class="dropdown-menu cardChoosesty">
                                            <li @click="transferChoose('0')"><span class="iconfont icon-icqiaduqiaqi"></span><em>读卡器</em></li>
                                            <li @click="transferChoose('1')"><span class="iconfont icon-3"></span><em>手动输入</em></li>
                                        </ul>
                                        <input  class="form-control" placeholder="请输入会员姓名" v-model="transferData.fromICCardId"/>
                                        <button type="button" class="btn btn-default readCard" :disabled="loading" @click="fromICCardIdReadCard">{{transferData.dropChooseTxt1}}</button>
                                    </div> 
                                    <div class="input-group col-lg-12 col-md-12 tab-style">
                                        <span class="input-group-addon addonWidth">转出卡密码：</span>
                                        <input type="password" class="form-control" v-model="transferData.pwd"/>
                                    </div>
                                    <div class="btn-group dropup col-lg-12 col-md-12">
                                        <button type="button" class="btn btn-default">接收卡卡号：</button>
                                        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"  aria-expanded="false">
                                            <span class="caret"></span>
                                        </button>
                                        <ul class="dropdown-menu cardChoosesty">
                                            <li @click="transferChoose('2')"><span class="iconfont icon-icqiaduqiaqi"></span><em>读卡器</em></li>
                                            <li @click="transferChoose('3')"><span class="iconfont icon-3"></span><em>手动输入</em></li>
                                        </ul>
                                        <input  class="form-control" placeholder="请输入会员姓名" v-model="transferData.toICCardId"/>
                                        <button type="button" class="btn btn-default readCard" :disabled="loading" @click="toICCardIdReadCard">{{transferData.dropChooseTxt2}}</button>
                                    </div> 
                                    <!-- <div class="input-group col-lg-12 col-md-12 tab-style">
                                        <span class="input-group-addon addonWidth">接收卡卡号：</span>
                                        <input  class="form-control" v-model="transferData.toICCardId"/>
                                        <div class="input-group-btn">
                                            <button type="button" class="btn btn-default readCard" :disabled="loading" @click="toICCardIdReadCard">读取</button>
                                        </div>
                                    </div> -->
                                    <div class="col-lg-8 col-md-8 tab-style">
                                        
                                    </div>
                                    <div class="col-lg-4 col-md-4 tab-style">
                                        <button type="button" class="btn btn-default width100" :disabled="loading" @click="memberTransfer">转换</button>
                                    </div>
                                </div>
                                <div class="col-lg-8 col-md-8">
                                    <div class="row">
                                        <div class="col-lg-10 col-md-10 tab-min">
                                            <div class="tab-text col-lg-12 col-md-12">
                                                <div class="input-group col-lg-4 col-md-6">
                                                    <span class="input-group-addon addonWidth">手机号码：</span>
                                                    <input   class="form-control" v-model="memberInfo.Mobile" maxlength="11" placeholder="请输入手机号"/>
                                                </div>
                                                <div class="input-group col-lg-4 col-md-6">
                                                    <span class="input-group-addon addonWidth">证件号码：</span>
                                                    <input   class="form-control" v-model="memberInfo.IDCardNo"/>
                                                </div>
                                                <div class="input-group col-lg-4 col-md-6">
                                                    <span class="input-group-addon addonWidth">会员姓名：</span>
                                                    <input   class="form-control" v-model="memberInfo.UserName" placeholder="请输入会员姓名"/>
                                                </div>
                                            </div>
                                            <div class="tab-text col-lg-12 col-md-12">
                                                <div class="input-group col-lg-4 col-md-6">
                                                    <span class="input-group-addon addonWidth">生日：</span>
                                                    <input    class="form-control" v-model="memberInfo.Birthday" readonly/>
                                                </div>
                                                <div class="input-group col-lg-4 col-md-6 marg1200">
                                                    <span class="input-group-addon addonWidth">性别：</span>
                                                    <select  class="form-control" v-model="memberInfo.Gender">
                                                        <option value="0">男</option>
                                                        <option value="1">女</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="tab-text col-lg-12 col-md-12">
                                                <div class="input-group col-lg-12 col-md-12">
                                                    <span class="input-group-addon addonWidth">备注：</span>
                                                    <textarea class="form-control" v-model="memberInfo.Note"></textarea>
                                                </div>
                                            </div>
                                            <!-- <div class="tab-text col-lg-12 col-md-12">
                                                <div class="input-group col-lg-3 col-md-4">
                                                    <span class="input-group-addon addonWidth">允许投币：</span>
                                                    <div class="switchZdy" @click="switchFnc('0')">
                                                        <div :class="[onSwitch0 ? 'onSwitch1' : 'onSwitch2','onSwitch']"></div>
                                                        <div class="col-lg-6 col-md-6">允许</div>
                                                        <div class="col-lg-6 col-md-6">禁止</div>
                                                    </div>
                                                </div>
                                                <div class="input-group col-lg-3 col-md-4">
                                                    <span class="input-group-addon addonWidth">允许退币：</span>
                                                    <div class="switchZdy" @click="switchFnc('1')">
                                                        <div :class="[onSwitch1 ? 'onSwitch1' : 'onSwitch2','onSwitch']"></div>
                                                        <div class="col-lg-6 col-md-6">允许</div>
                                                        <div class="col-lg-6 col-md-6">禁止</div>
                                                    </div>
                                                </div>
                                                <div class="input-group col-lg-3 col-md-4">
                                                    <span class="input-group-addon addonWidth">允许售币：</span>
                                                    <div class="switchZdy" @click="switchFnc('2')">
                                                        <div :class="[onSwitch2 ? 'onSwitch1' : 'onSwitch2','onSwitch']"></div>
                                                        <div class="col-lg-6 col-md-6">允许</div>
                                                        <div class="col-lg-6 col-md-6">禁止</div>
                                                    </div>
                                                </div>
                                                <div class="input-group col-lg-3 col-md-4">
                                                    <span class="input-group-addon addonWidth">允许存币：</span>
                                                    <div class="switchZdy" @click="switchFnc('3')">
                                                        <div :class="[onSwitch3 ? 'onSwitch1' : 'onSwitch2','onSwitch']"></div>
                                                        <div class="col-lg-6 col-md-6">允许</div>
                                                        <div class="col-lg-6 col-md-6">禁止</div>
                                                    </div>
                                                </div>
                                            </div> -->
                                            <!-- <div class="tab-text col-lg-12 col-md-12">
                                                <div class="input-group col-lg-3 col-md-4">
                                                    <span class="input-group-addon addonWidth">允许送币：</span>
                                                    <div class="switchZdy" @click="switchFnc('4')">
                                                        <div :class="[onSwitch4 ? 'onSwitch1' : 'onSwitch2','onSwitch']"></div>
                                                        <div class="col-lg-6 col-md-6">允许</div>
                                                        <div class="col-lg-6 col-md-6">禁止</div>
                                                    </div>
                                                </div>
                                                <div class="input-group col-lg-3 col-md-4">
                                                    <span class="input-group-addon addonWidth">允许兑币：</span>
                                                    <div class="switchZdy" @click="switchFnc('5')">
                                                        <div :class="[onSwitch5 ? 'onSwitch1' : 'onSwitch2','onSwitch']"></div>
                                                        <div class="col-lg-6 col-md-6">允许</div>
                                                        <div class="col-lg-6 col-md-6">禁止</div>
                                                    </div>
                                                </div>
                                                <div class="input-group col-lg-3 col-md-4">
                                                    <span class="input-group-addon addonWidth">允许续卡：</span>
                                                    <div class="switchZdy" @click="switchFnc('6')">
                                                        <div :class="[onSwitch6 ? 'onSwitch1' : 'onSwitch2','onSwitch']"></div>
                                                        <div class="col-lg-6 col-md-6">允许</div>
                                                        <div class="col-lg-6 col-md-6">禁止</div>
                                                    </div>
                                                </div>
                                            </div> -->
                                        </div>
                                        <div class="mcImg col-lg-2 col-md-2">
                                            <img :src="memberInfo.Avatar" alt="会员头像">
                                        </div>
                                    </div>
                                    <div class="row" style="margin-top: 1em;">
                                        <div class="col-lg-4 col-md-4">
                                            <table class="table table-bordered">
                                                <thead>
                                                    <tr class="tableCenter">
                                                        <th  colspan="1" rowspan="2" data-valign="middle">余额种类</th>
                                                        <th colspan="3" data-valign="middle">余额</th>
                                                    </tr>
                                                    <tr class="tableCenter">
                                                        <th>正价</th>
                                                        <th>赠送</th>
                                                        <th>总计</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr v-for="(item,index) in balanceData" :key="index">
                                                        <td class="billingSty">{{item.BalanceName}}</td>
                                                        <td class="billingColor">{{item.Balance}}</td>
                                                        <td class="billingColor">{{item.BalanceFree}}</td>
                                                        <td class="billingColor">{{item.TotalBalance}}</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        <div class="col-lg-8 col-md-8">
                                            <div class="col-lg-9 col-md-9">
                                                <ul class="nav nav-tabs" role="tablist">
                                                    <li role="presentation" class="active"><a href="#ViceCard" aria-controls="ViceCard" role="tab" data-toggle="tab">主卡信息</a></li>
                                                    <li role="presentation" v-for="(item,index) in childCardList" :key="index">
                                                        <a :href="item.titleHref" :aria-controls="item.titleIndex" role="tab" data-toggle="tab">{{item.indexTxt}}</a>
                                                    </li>
                                                </ul>
                                                <div class="tab-content">
                                                    <div role="tabpanel" class="tab-pane active" id="ViceCard">
                                                        <div class="col-lg-6 col-md-6">
                                                            <p class="cardListSty"><span class="cardListSpan">卡号：</span><span class="cardListTxt">{{memberInput.ICCardId}}</span></p>
                                                            <p class="cardListSty"><span class="cardListSpan">到期日期：</span><span class="cardListTxt">{{memberInput.EndDate}}</span></p>
                                                            <p class="cardListSty"><span class="cardListSpan">押金：</span><span class="cardListTxt">{{memberInput.Deposit}}</span></p>
                                                            <p class="cardListSty"><span class="cardListSpan">级别：</span><span class="cardListTxt">{{memberInput.LevelName}}</span></p>
                                                            <p class="cardLockList" v-for="(item,index) in memberInput.LockList"><span class="colorRed">{{item.LockExplain}}</span><span @click="cardUnLock(index)" class="iconfont icon-jiesuo cardLockUp">解锁</span></p>
                                                        </div>
                                                    
                                                        <div class="col-lg-3 col-md-3">
                                                            <img class="cardListImg" :src="memberInput.CardAvatar" alt="会员头像">
                                                        </div>
                                                    </div>
                                                    <div role="tabpanel" class="tab-pane" v-for="(item,index) in childCardList" :key="index" :id="item.titleIndex" >
                                                        <div class="col-lg-4 col-md-4">
                                                            <p class="cardListSty"><span class="viceSty">卡号：</span><span class="cardListTxt">{{item.ChildICCardId}}</span></p>
                                                            <p class="cardListSty"><span class="viceSty">类别：</span><span class="cardListTxt">{{item.CardShape}}</span></p>
                                                            <p class="cardListSty"><span class="viceSty">押金：</span><span class="cardListTxt">{{item.Deposit}}元</span></p>
                                                        </div>
                                                        <div class="col-lg-4 col-md-4">
                                                            <p class="cardListSty"><span class="viceSty">姓名：</span><span class="cardListTxt">{{item.UserName}}</span></p>
                                                            <p class="cardListSty"><span class="viceSty">性别：</span><span class="cardListTxt">{{item.Gender}}</span></p>
                                                            <p class="cardListSty"><span class="viceSty">生日：</span><span class="cardListTxt">{{item.Birthday}}元</span></p>
                                                        </div>
                                                        <div class="col-lg-3 col-md-3">
                                                            <img class="cardListImg" :src="item.Avatar" alt="会员头像">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </li>
                <li class="menuli" tabindex="1">
                    <span class="title"><i class="icon iconfont icon-jiaobanguanli"></i>交班总结</span>
                    <div class="content"><span class="close">x</span></div>
                </li>
                <li class="menuli" tabindex="1">
                    <span class="title"><i class="icon iconfont icon-jiabi"></i>吧台加币</span>
                    <div class="content"><span class="close">x</span>

                    </div>
                </li>
            </ul>
        </div>
    </div>
    
    <div class="footer">
        <div class="btn-group dropup col-lg-3 col-md-3">
            <button type="button" class="btn btn-default">{{inquireCard.dropChooseTxt1}}</button>
            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"  aria-expanded="false">
                <span class="caret"></span>
            </button>
            <ul class="dropdown-menu dropChoosesty">
                <li @click="dropChoose('0')"><span class="iconfont icon-icqiaduqiaqi"></span>读卡器</li>
                <li @click="dropChoose('1')"><span class="iconfont icon-shenfenzhengrenzheng"></span>身份证</li>
                <li @click="dropChoose('2')"><span class="iconfont icon-3"></span>手动输入</li>
            </ul>
            <input  class="form-control" placeholder="请输入会员姓名" v-model="inquireCard.keyInput"/>
            <button type="button" class="btn btn-default">{{inquireCard.dropChooseTxt2}}</button>
        </div>       
    </div>
</div>

<script src="js/jquery-2.1.3.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<!-- 引入 Vue -->
<!-- <script src="js/vue.js"></script> -->
<script src="js/axios.min.js"></script>
<!-- 引入 bootstrap-table -->
<!-- <script type="text/javascript" src="js/bootstrap-datetimepicker.min.js" charset="UTF-8"></script> -->
<!-- <script type="text/javascript" src="js/bootstrap-datetimepicker.zh-CN.js" charset="UTF-8"></script> -->
<!-- <script src="js/bootstrap-table.js"></script> -->
<!-- <script src="js/bootstrap-table-zh-CN.js"></script> -->

<script>
    var sysId = 0; //调用方应用Id
    var versionNo= "0.01"; //版本号
    var machineName ="";
    var dogIdToken ="";
    var ws = new WebSocket("ws://127.0.0.1:12880");
    let testData = {
                "histories": [
                    {
                        "username": "智能审批",
                        "shenpistatus": "审批已通过",
                        "shenpicomments": "自动审批通过",
                        "time": "2017-07-24 18:11"
                    },
                    {
                        "username": "智能审批",
                        "shenpistatus": "审批已通过",
                        "shenpicomments": "自动审批通过",
                        "time": "2017-07-24 18:11"
                    },
                    {
                        "username": "智能审批",
                        "shenpistatus": "审批已通过",
                        "shenpicomments": "自动审批通过",
                        "time": "2017-07-24 10:04"
                    },
                    {
                        "username": "智能审批",
                        "shenpistatus": "审批被拒绝",
                        "shenpicomments": "  收入 > 999 && 支出 < 201",
                        "time": "2017-07-24 10:03"
                    },
                    {
                        "username": "智能审批",
                        "shenpistatus": "审批被拒绝",
                        "shenpicomments": "  收入 > 999 && 支出 < 201",
                        "time": "2017-07-24 10:02"
                    },
                    {
                        "username": "智能审批",
                        "shenpistatus": "审批已通过",
                        "shenpicomments": "自动审批通过",
                        "time": "2017-07-24 10:02"
                    },
                    {
                        "username": "智能审批",
                        "shenpistatus": "审批被拒绝",
                        "shenpicomments": "自动审批通过",
                        "time": "2017-07-24 10:01"
                    },
                    {
                        "username": "智能审批",
                        "shenpistatus": "审批被拒绝",
                        "shenpicomments": "自动审批通过",
                        "time": "2017-07-24 09:56"
                    },
                    {
                        "username": "智能审批",
                        "shenpistatus": "审批被拒绝",
                        "shenpicomments": "自动审批通过",
                        "time": "2017-07-21 14:23"
                    },
                    {
                        "username": "智能审批",
                        "shenpistatus": "审批被拒绝",
                        "shenpicomments": "  收入 > 999 && 支出 < 201 && 所有项目的总净收入 > 5000",
                        "time": "2017-07-21 14:23"
                    },
                    {
                        "username": "智能审批",
                        "shenpistatus": "审批被拒绝",
                        "shenpicomments": "自动审批通过",
                        "time": "2017-07-21 14:23"
                    },
                    {
                        "username": "智能审批",
                        "shenpistatus": "审批被拒绝",
                        "shenpicomments": "  收入 > 999 && 支出 < 201 && 所有项目的总净收入 > 5000",
                        "time": "2017-07-21 14:23"
                    },
                    {
                        "username": "智能审批",
                        "shenpistatus": "审批被拒绝",
                        "shenpicomments": "  收入 > 999 && 支出 < 201 && 所有项目的总净收入 > 5000",
                        "time": "2017-07-21 14:23"
                    },
                    {
                        "username": "智能审批",
                        "shenpistatus": "审批被拒绝",
                        "shenpicomments": "  收入 > 999 && 支出 < 201 && 所有项目的总净收入 > 5000",
                        "time": "2017-07-21 14:21"
                    },
                    {
                        "username": "智能审批",
                        "shenpistatus": "审批被拒绝",
                        "shenpicomments": "自动审批通过",
                        "time": "2017-07-21 14:21"
                    },
                    {
                        "username": "智能审批",
                        "shenpistatus": "审批被拒绝",
                        "shenpicomments": "自动审批通过",
                        "time": "2017-07-21 14:20"
                    },
                    {
                        "username": "智能审批",
                        "shenpistatus": "审批被拒绝",
                        "shenpicomments": "  收入 > 999 && 支出 < 201 && 所有项目的总净收入 > 5000",
                        "time": "2017-07-21 14:20"
                    },
                    {
                        "username": "智能审批",
                        "shenpistatus": "审批被拒绝",
                        "shenpicomments": "自动审批通过",
                        "time": "2017-07-21 14:14"
                    },
                    {
                        "username": "智能审批",
                        "shenpistatus": "审批被拒绝",
                        "shenpicomments": "自动审批通过",
                        "time": "2017-07-21 14:13"
                    },
                    {
                        "username": "智能审批",
                        "shenpistatus": "审批被拒绝",
                        "shenpicomments": "自动审批通过",
                        "time": "2017-07-21 14:11"
                    },
                    {
                        "username": "智能审批",
                        "shenpistatus": "审批被拒绝",
                        "shenpicomments": "自动审批通过",
                        "time": "2017-07-21 14:10"
                    },
                    {
                        "username": "智能审批",
                        "shenpistatus": "审批被拒绝",
                        "shenpicomments": "  收入 > 999 && 支出 < 201 && 所有项目的总净收入 > 5000",
                        "time": "2017-07-20 18:09"
                    },
                    {
                        "username": "智能审批",
                        "shenpistatus": "审批被拒绝",
                        "shenpicomments": "  收入 > 999 && 支出 < 201 && 所有项目的总净收入 > 5000",
                        "time": "2017-07-20 18:08"
                    },
                    {
                        "username": "智能审批",
                        "shenpistatus": "审批被拒绝",
                        "shenpicomments": "  收入 > 999 && 支出 < 201 && 所有项目的总净收入 > 5000",
                        "time": "2017-07-20 18:08"
                    },
                    {
                        "username": "智能审批",
                        "shenpistatus": "审批被拒绝",
                        "shenpicomments": "自动审批通过",
                        "time": "2017-07-20 18:07"
                    },
                    {
                        "username": "智能审批",
                        "shenpistatus": "审批被拒绝",
                        "shenpicomments": "自动审批通过",
                        "time": "2017-07-20 18:05"
                    },
                    {
                        "username": "智能审批",
                        "shenpistatus": "审批已通过",
                        "shenpicomments": "wedfqw",
                        "time": "2017-07-20 15:50"
                    },
                    {
                        "username": "智能审批",
                        "shenpistatus": "审批已通过",
                        "shenpicomments": "wedfqw",
                        "time": "2017-07-20 15:20"
                    },
                    {
                        "username": "智能审批",
                        "shenpistatus": "审批被拒绝",
                        "shenpicomments": "自动审批通过",
                        "time": "2017-07-19 18:27"
                    }
                ]
            }
        
    var vm = new Vue({
        el: '#app',
        data:{
            loading:false,
            userToken:'',
            refundData:[{
                balanceType:"代币",
                balance:"2000",
                balance1:"1600",
                balance2:"400",
                balance3:"1600",
                balance4:"1000",
                balance5:"500"
            },{
                balanceType:"积分",
                balance:"200000",
                balance1:"200000",
                balance2:"0",
                balance3:"0",
                balance4:"0",
                balance5:"0"
            },{
                balanceType:"合计",
                balance:"",
                balance1:"",
                balance2:"",
                balance3:"",
                balance4:"1000",
                balance5:"500"
            }],       
            inquireCard:{
                show:false,
                mobileCode:"",
                keyInput:"",
                codeBtn:"获取验证码",
                dropChooseTxt1:"读卡器",
                dropChooseTxt2:"读卡",
                disabled:""
            },
            memberInfo:{
				Avatar:"images/salesPic1.png",
				Birthday:"",
				Gender:"",
				IDCardNo:"",
				Mobile:"",
				UserName: "",
                Note:""
            },
            balanceData:[],
            memberInput:{
                mobileCode:"",
                disabled: false,
				CardAvatar: "",
                ICCardId: "",
                Deposit: "",
                EndDate: "",
                LevelName: ""
			},
            childCardList:null,
            orderInquiry:{
                orderNo:"20180707075017323100025420106001",
                stratTime:"",
                endTime:"",
                theData:"",
                payable:"",
                preferential:"",
                realPay:"",
                cashier:"",
                note:"",
                exitChecked:[],
                saleCount:"",
                salePrice:"",
                taxTotal:"",
                disabled:false,
                orderListData:[],
                orderPayData:[],
                goodsData:[]
            },
            transferData:{
                fromICCardId:"",
                pwd:"",
                toICCardId:"",
                dropChooseTxt2:"读卡",
                dropChooseTxt1:"读卡",
                dropChooseIndex:"",
            },
            siteClearing:{ 
                NotSluiceList:[],
                clearUpShow:false,
                radioValue:"0",
                selectValue:"",
                soptionList:[]
            },
            cardList:[],
            radioValue:"",
            icCardId:"0",
            msg:"",
            ajaxHistoryData:[],
                // 初始化信息总条数
            dataCount:0,
            // 每页显示多少条
            pageSize:6,
            historyColumns: [
                {
                    type: 'selection',
                    width: 60,
                    align: 'center'
                },
                {
                    title: '人员',
                    key: 'username'
                },
                {
                    title: '操作',
                    key: 'shenpistatus'
                },
                {
                    title: '意见',
                    key: 'shenpicomments'
                },
                {
                    title: '时间',
                    key: 'time'
                }

            ],
            historyData: []
        },
        mounted: function () {
            this.Initialize()
        },
        watch: {
            
        },
        methods: {
            Initialize:function () {
                var that =this;
                // var userData = getStorage("userData");      	//获取userToken
                // that.userToken = userData.userToken;
                // console.log(that.userToken)
            },
            //			websocket配置函数
            WebSocketTest:function() {
                var that = this;
				if ("WebSocket" in window)
				{
					// 打开一个 websocket
					ws.onopen = function() {
						console.log("连接成功");
						var msgType0 =JSON.stringify({"msgType":"0","sObj":{"userToken": that.userToken}});
						function send(data)
						{
							console.log("Send:"+data);
							ws.send(data);
						}
						send(msgType0);
					};
					ws.onmessage = function (evt)
					{
						console.log("接收成功");
						var receivedMsg = JSON.parse(evt.data);
						console.log(receivedMsg);
						
						if(receivedMsg.result_code == 1){
						    switch (receivedMsg.answerMsgType){
								case 1:                                              
								    break;
								case "2":
								    break;
                                case "4":
                                    if(that.msgReadCard === "0"){
                                        that.outCoinData.icCardId = receivedMsg.dataObj.icCardId;
                                        that.getBalanceTypeByICCardId()
                                    }else if(that.msgReadCard === "1"){

                                    }else if(that.msgReadCard === "2"){
                                        that.transferData.fromICCardId = receivedMsg.dataObj.icCardId;
                                    }else if(that.msgReadCard === "3"){
                                        that.transferData.toICCardId = receivedMsg.dataObj.icCardId;
                                    }
                                    break;
                                case "5":
									that.msg = receivedMsg.answerMsg;
									$('#myModal').modal('show');
                                    break;
								case "11":
								    if(that.msgEleven === "0"){
                                        that.dataObj =receivedMsg.dataObj;
                                        $('#checkoutModal').modal('show');
                                        that.inputCashFocus = true;
                                        that.registerCheckOut = true;
                                        that.shopCheckOut = false;
                                        that.cardCheckOut = false;
                                        that.registerFnc();
									}else if(that.msgEleven === "1"){
                                        that.dataObj =receivedMsg.dataObj;
                                        that.supplementCardFnc();
									}
                                    that.msgEleven = "";
                                	break;
                                default:
								    break;
							}
						}else if(receivedMsg.result_code == 0) {
							that.msg = receivedMsg.answerMsg;
                    		$('#myModal').modal('show');
						}
					};
					ws.onclose = function()
					{
						// 关闭 websocket
						// alert("连接已关闭...");
                        // window.location.href='login.html';
					};
				}
				else
				{
					// 浏览器不支持 WebSocket
					alert("您的浏览器不支持 WebSocket!");
				}
			},
//			按手机号查询会员信息
            getMember:function (type) {getMember
			    var that = this;
                switch (type){
                    case "0" :
                        var mobile = that.outCoinData.mobile;
                        var code = that.outCoinData.mobileCode;
                        // that.outCoinData.outCoinCard = "1";
                        break;
                    case "1" :
						var mobile = that.memberInfo.Mobile;
						var code = that.memberInput.mobileCode;
                        // that.outCoinData.outCoinCard = "";
                        break;
                    case "2" :
						var mobile = that.inquireCard.keyInput;
						var code = that.inquireCard.mobileCode;
                        that.outCoinData.outCoinCard = "";
                        break;
                    default:
                        break;
                }
                var obj={sysId: sysId,versionNo: versionNo,userToken:that.userToken,mobile:mobile,code:code};
                console.log(obj);
			    if(mobile.length != 11 || code == ""){
                    that.msg = "请先确认手机号和验证码填写正确";
                    $('#myModal').modal('show');
                    setTimeout(function () {
                        $('#myModal').modal('hide');
                    }, 1500);
				}else{
                    axios.post('/XCCloud/Member?action=getCardListByPhone', obj).then(function (res) {
                        console.log(res.data);
                        that.msgPrompt(res.data);
                        if (res.data.result_code === '1') {
                            that.cardList = res.data.result_data;
                            $('#cardList').modal('show');
                        }
                    }).catch(function (err) {
                        console.log(err);
                    });
				}
            },
//			选择读卡方式
            dropChoose:function(index){
                var that = this;
                
				switch (index){
					case "0":
                        console.log(index)
                        that.inquireCard.dropChooseTxt1 = "读卡器";
                        that.inquireCard.dropChooseTxt2 = "读卡";
					    break;
                    case "1":
                        that.inquireCard.dropChooseTxt1 = "身份证";
                        that.inquireCard.dropChooseTxt2 = "读取";
                        break;
                    case "2":
                        that.inquireCard.dropChooseTxt1 = "输入";
                        that.inquireCard.dropChooseTxt2 = "查询";
                        break;
				}
			},
//			选择会员卡
            radioCard:function(index){
                var that = this;
                console.log(index);
                that.radioValue = index;
                if(that.outCoinData.outCoinCard == "1"){
                    that.outCoinData.icCardId = that.cardList[that.radioValue].ICCardNo;
                    that.outCoinData.outCoinCard == ""
				}else {
                    that.icCardId = that.cardList[that.radioValue].ICCardNo;
                    that.cardId = that.cardList[that.radioValue].CardId;
				}
                $('#cardList').modal('hide');
                that.radioValue = "";
                that.getMenberCardInfo()
			},
//          按会员卡查询会员及卡信息
            getMenberCardInfo:function(icCardId,type){
                var that = this;
                that.loading = true;
                var obj={sysId: sysId,versionNo: versionNo,userToken:that.userToken,icCardId:icCardId};
                console.log(obj);
                axios.post('/XCCloud/Member?action=getMenberCardInfoByICCardId', obj).then(function (res) {
                    console.log(res.data);
                    that.msgPrompt(res.data);
                    that.loading = false;
                    if (res.data.result_code === '1') {
                        that.memberInfo = res.data.result_data.MemberInfo;
                        that.balanceData = res.data.result_data.MemberBalances;
                        that.memberInput.LockList = res.data.result_data.LockList;
                        that.memberInput.ICCardId = res.data.result_data.ICCardId;
                        that.memberInput.EndDate = res.data.result_data.EndDate;
                        that.memberInput.Deposit = res.data.result_data.Deposit+"元";
                        that.memberInput.LevelName = res.data.result_data.LevelName;
                        that.memberInput.CardAvatar = res.data.result_data.CardAvatar;
                        var TitleCardList =[];
                        var childCardList =res.data.result_data.ChildCardList;
                        for(var i = 0;i<childCardList.length;i++){
                            TitleCardList.push({
                                CardShape: childCardList[i].CardShape,
                                ChildICCardId: childCardList[i].ChildICCardId,
                                Deposit: childCardList[i].Deposit,
                                Avatar: childCardList[i].ChildCardMemberInfo.Avatar,
                                Birthday: childCardList[i].ChildCardMemberInfo.Birthday,
                                Gender: childCardList[i].ChildCardMemberInfo.Gender,
                                UserName: childCardList[i].ChildCardMemberInfo.UserName,
                                titleIndex:"childCard"+(i+1),
                                titleHref:"#childCard"+(i+1),
                                indexTxt:"副卡"+(i+1)
							})
						}
                        that.childCardList= TitleCardList;
                    }
                }).catch(function (err) {
                    console.log(err);
                    that.loading = false;
                });
			},
//          转出卡IC卡号事件
            fromICCardIdReadCard:function(){
                var that = this;
                if(that.transferData.dropChooseIndex == "0"){
                    var msgType4 =JSON.stringify({"msgType":"4", "sObj": {"userToken": that.userToken}});
                    that.msgReadCard = "2";
                    ws.send(msgType4);
                }else if(that.transferData.dropChooseIndex == "1"){
                    console.log(that.transferData.fromICCardId)
                    that.getMenberCardInfo(that.transferData.fromICCardId,"0")
                }
			},
//          接收卡IC卡号事件
            toICCardIdReadCard:function(){
                var that = this;
                if(that.transferData.dropChooseIndex == "2"){
                    var msgType4 =JSON.stringify({"msgType":"4", "sObj": {"userToken": that.userToken}});
                    that.msgReadCard = "3";
                    ws.send(msgType4);
                }else if(that.transferData.dropChooseIndex == "3"){
                    console.log(that.transferData.toICCardId)
                    that.getMenberCardInfo(that.transferData.toICCardId,"1")
                }
			},
//          会员过户卡选择
            transferChoose:function(index){
                var that = this;
                that.transferData.dropChooseIndex = index;
				switch (index){
					case "0":
                        that.transferData.dropChooseTxt1 = "读卡";
					    break;
                    case "1":
                        that.transferData.dropChooseTxt1 = "查询";
                        break;
                    case "2":
                        that.transferData.dropChooseTxt2 = "读卡";
                        break;
                    case "3":
                        that.transferData.dropChooseTxt2 = "查询";
                        break;
                    default:
                        break;
				}
            },
//          会员过户
            memberTransfer:function(){
                var that = this;
                if(that.transferData.toICCardId == "" || that.transferData.fromICCardId == "" || that.transferData.pwd == ""){
                    that.msg = "输入不能为空！";
                    $('#myModal').modal('show');
                    setTimeout(function () {
                        $('#myModal').modal('hide');
                    }, 1500);
                }else{
                    that.loading = true;
                    var obj={sysId: sysId,versionNo: versionNo,userToken:that.userToken,fromICCardId:that.transferData.fromICCardId,pwd:that.transferData.pwd,toICCardId:that.transferData.toICCardId};
                    console.log(obj);
                    axios.post('/XCCloud/Member?action=memberTransfer', obj).then(function (res) {
                        console.log(res.data);
                        that.loading = false;
                        that.msgPrompt(res.data);
                        if (res.data.result_code === '1') {
                            that.msg = "转卡成功！";
                            $('#myModal').modal('show');
                            setTimeout(function () {
                                $('#myModal').modal('hide');
                            }, 1500);
                        }
                    }).catch(function (err) {
                        console.log(err);
                    });
                }
            },
//          订单查询接口
            getOrders:function(){
                var that = this;
                that.orderInquiry = {
                    orderNo:that.orderInquiry.orderNo,
                    stratTime:that.orderInquiry.stratTime,
                    endTime:that.orderInquiry.endTime,
                    theData:"",
                    payable:"",
                    preferential:"",
                    realPay:"",
                    cashier:"",
                    note:"",
                    exitChecked:[],
                    saleCount:"",
                    salePrice:"",
                    taxTotal:"",
                    disabled:false,
                    orderListData:[],
                    orderPayData:[],
                    goodsData:[]
                };
                var obj={sysId: sysId,versionNo: versionNo,userToken:that.userToken,orderId:that.orderInquiry.orderNo,icCardId:that.icCardId,startDate:"2017-07-04",endDate:"2018-10-04"};
                console.log(obj);
                axios.post('/xccloud/order?action=getOrders', obj).then(function (res) {
                    console.log(res.data);
                    that.msgPrompt(res.data);
                    if (res.data.result_code === '1') {
                        that.orderInquiry.orderListData=res.data.result_data;
                        var orderData = res.data.result_data;
                        $("#table").bootstrapTable('destroy');
                        setTimeout(function () {
                            that.createTable(orderData);
                        }, 50);
                        
                    }
                }).catch(function (err) {
                    console.log(err);
                });
            },
//          表格分页
            createTable:function (tableData){       //表格
                var that = this; 
                $("#table").bootstrapTable({ // 对应table标签的id
                    data:tableData,
                    toolbar: '.toolbar',                //工具按钮用哪个容器
                    striped: true,                      //是否显示行间隔色
                    cache: false,                       //是否使用缓存，默认为true，所以一般情况下需要设置一下这个属性（*）
                    toggle:"table",
                    undefinedText:"",
                    pagination: true,                   //是否显示分页（*）
                    sortable: false,                     //是否启用排序
                    sortOrder: "asc",                   //排序方式
                    pageNumber:1,                       //初始化加载第一页，默认第一页
                    pageSize: 10,                       //每页的记录行数（*）
                    pageList: [5,10, 25],        //可供选择的每页的行数（*）
                    search: false,                       //是否显示表格搜索，此搜索是客户端搜索，不会进服务端，所以，个人感觉意义不大
                    strictSearch: true,
                    showColumns: false,                  //是否显示所有的列
                    showRefresh: false,                  //是否显示刷新按钮
                    minimumCountColumns: 2,             //最少允许的列数
                    clickToSelect: true,                //是否启用点击选中行
                    height: 320,                        //行高，如果没有设置height属性，表格自动根据记录条数觉得表格高度
                    // height: $(window.top).height()-400,                        //行高，如果没有设置height属性，表格自动根据记录条数觉得表格高度
                    uniqueId: "ID",                     //每一行的唯一标识，一般为主键列
                    showToggle:false,
                    showFooter:false,                 //是否显示详细视图和列表视图的切换按钮
                    cardView: false,                    //是否显示详细视图
                    detailView: false,
                    // columns: columns,
                    onClickRow:function(row){
                        console.log(row)
                        that.orderDetails(row)
                    },
                    onLoadSuccess: function(){  //加载成功时执行
                        console.info("加载成功");
                    },
                    onLoadError: function(){  //加载失败时执行
                        console.info("加载数据失败");
                    }
                })
            },
//          查询订单详情
            orderDetails:function(rowData){
               console.log(rowData);
                var that = this;
                that.orderInquiry = {
                    orderNo:"",
                    stratTime:"",
                    endTime:"",
                    theData:"",
                    payable:"",
                    preferential:"",
                    realPay:"",
                    cashier:"",
                    note:"",
                    exitChecked:[],
                    saleCount:"",
                    salePrice:"",
                    taxTotal:"",
                    disabled:false,
                    orderListData:that.orderInquiry.orderListData,
                    orderPayData:[],
                    goodsData:[]
                };
                var obj={sysId: sysId,versionNo: versionNo,userToken:that.userToken,flwOrderId:rowData.orderId};
                if(rowData.orderStatusName != "已支付"){
                    that.orderInquiry.disabled = true;
                }else{
                    that.orderInquiry.disabled = false; 
                }
                console.log(obj);
                axios.post('/xccloud/order?action=getOrderDetailContain', obj).then(function (res) {
                    console.log(res.data);
                    that.msgPrompt(res.data);
                    if (res.data.result_code === '1') {
                        that.orderInquiry.orderPayData=res.data.result_data.orderPay;
                        that.orderInquiry.goodsData=res.data.result_data.orderDetail;
                        that.orderInquiry.orderNo=res.data.result_data.orderMain.orderId;
                        that.orderInquiry.theData=res.data.result_data.orderMain.saleTime;
                        that.orderInquiry.payable=res.data.result_data.orderMain.payCount;
                        that.orderInquiry.preferential=res.data.result_data.orderMain.freePay;
                        that.orderInquiry.realPay=res.data.result_data.orderMain.realPay;
                        that.orderInquiry.cashier=res.data.result_data.orderMain.realName;
                        that.orderInquiry.note=res.data.result_data.orderMain.note;
                        var salePrice = 0;
                        var saleCount = 0;
                        var taxTotal = 0;
                        for(var i = 0; i<that.orderInquiry.goodsData.length; i++){
                            salePrice =salePrice+that.orderInquiry.goodsData[i].salePrice*1                            
                            saleCount =saleCount+that.orderInquiry.goodsData[i].saleCount*1
                            taxTotal =taxTotal+that.orderInquiry.goodsData[i].taxTotal*1
                        }
                        that.orderInquiry.saleCount = saleCount
                        that.orderInquiry.salePrice = salePrice
                        that.orderInquiry.taxTotal = taxTotal
                    }
                }).catch(function (err) {
                    console.log(err);
                });
            },
//          退货接口
            exitFood:function(){
                var that = this;
                var exitFoodJson = []
                console.log(that.orderInquiry.exitChecked);
                for(var i = 0;i<that.orderInquiry.exitChecked.length;i++){   
                    exitFoodJson.push({
                        foodId: that.orderInquiry.goodsData[that.orderInquiry.exitChecked[i]].foodId,
                        category: that.orderInquiry.goodsData[that.orderInquiry.exitChecked[i]].category,
                        saleCount: that.orderInquiry.goodsData[that.orderInquiry.exitChecked[i]].saleCount,
                    })   
				}
                exitFoodJson = JSON.stringify(exitFoodJson); //转化为JSON字符串
                var obj={sysId: sysId,versionNo: versionNo,userToken:that.userToken,flwOrderId:that.orderInquiry.orderNo,note:that.orderInquiry.note,authorId:"0",exitFoodJson:exitFoodJson};
                console.log(obj);
                axios.post('/XCCloud/foods?action=exitFood', obj).then(function (res) {
                    console.log(res.data);
                    that.msgPrompt(res.data);
                    if (res.data.result_code === '1') {
                        alert(111)
                    }
                }).catch(function (err) {
                    console.log(err);
                });
            },
//          清场点击
            clearUp:function(){
                var that = this;
                var obj={sysId: sysId,versionNo: versionNo,userToken:that.userToken};
                console.log(obj);
                axios.post('/XCCloud/ProjectTicket?action=getProjectLis', obj).then(function (res) {
                    console.log(res.data);
                    that.msgPrompt(res.data);
                    if (res.data.result_code === '1') {
                        that.siteClearing.soptionList = es.data.result_data;
                    }
                }).catch(function (err) {
                    console.log(err);
                });
            },
//          刷新按钮
            sluiceList:function(projectId){
                var that = this;
                var obj={sysId: sysId,versionNo: versionNo,userToken:that.userToken,projectId:projectId,dateType:that.siteClearing.radioValue};
                console.log(obj);
                axios.post('/XCCloud/ProjectTicket?action=getProjectNotSluiceList', obj).then(function (res) {
                    console.log(res.data);
                    that.msgPrompt(res.data);
                    if (res.data.result_code === '1') {
                        // that.siteClearing.soptionList = es.data.result_data;
                        
                    }
                }).catch(function (err) {
                    console.log(err);
                });
                setTimeout(function () {
                    that.siteClearing.clearUpShow = true;
                }, 500);
            },
//          获取历史记录信息
            handleListApproveHistory(){
                // 保存取到的所有数据
                this.ajaxHistoryData = testData.histories
                this.dataCount = testData.histories.length;
                // 初始化显示，小于每页显示条数，全显，大于每页显示条数，取前每页条数显示
                if(testData.histories.length < this.pageSize){
                    this.historyData = this.ajaxHistoryData;
                }else{
                    this.historyData = this.ajaxHistoryData.slice(0,this.pageSize);
                }
            },
            changepage(index){
                var _start = ( index - 1 ) * this.pageSize;
                var _end = index * this.pageSize;
                this.historyData = this.ajaxHistoryData.slice(_start,_end);
            },
            handleSelectAll (status) {
                this.$refs.selection.selectAll(status);
            },
            AllData(selection){
                console.log(selection)
            },
//			通用消息提示
            msgPrompt:function (res) {
                var that = this;
                if(res.return_code == 0){
                    that.msg = res.return_msg;
                    $('#myModal').modal('show');
                }else if(res.result_code == 0){
                    that.msg = res.result_msg;
                    $('#myModal').modal('show');
                }
            }
        },
        created(){
            this.handleListApproveHistory();
        }
    });
//    全部jq函数
    // $('.form_date').datetimepicker({
	// 	language:  'zh-CN',
	// 	weekStart: 1,
	// 	todayBtn:  1,
	// 	autoclose: 1,
	// 	todayHighlight: 1,
	// 	startView: 2,
	// 	minView: 2,
    //     pickerPosition: "bottom-left",
    //     format: 'yyyy-mm-dd'
    // });
    (function(){
        $('.menu .content').append('<span class="close">x</span>');
        function showContent(elem){
            elem.find('.content').stop(true,true).animate({"opacity": 1,"width": "1600px","height":"600px","margin-left": "-800px","margin-top": "-200px"},800);
            elem.addClass('cover');
        }

        $('.menuli').click(function() {
            console.log($(this).index());
            if($(this).index() == 0){
                window.location.href='theBar.html';
            }else {
                $(this).find('.content').css("display","block");
                showContent($(this));
            }
        });
        $('.menuli').keypress(function(e) {
            if (e.keyCode == 13) {
                showContent($(this));
            }
        });

        $('.menu .close').click(function(e) {
            e.stopPropagation();
            $(this).parent().stop(true,true).animate({"opacity": 0,"width": "200px","height":"120px","margin-left": "-100px","margin-top": "-40px"});
            $(this).parent().css("display","none");
//            $('.menu .content').removeClass('expanded');
            $('.menuli').removeClass('cover');
        });
    })();

    //存储session
    function setStorage(key,value) {
        if(window.localStorage){
            value = JSON.stringify(value); //转化为JSON字符串
            var storage=window.localStorage;
            storage.setItem(key,value);
        }
    }
    //删除session
    function removeStorage(key) {
        if(window.localStorage){
            var storage=window.localStorage;
            storage.removeItem(key);
        }
    }
    //获取session
    function getStorage(key) {
        if(window.localStorage){
            value = JSON.parse(localStorage.getItem(key));
            return value;
        }
    }
    
</script>
</body>
</html>