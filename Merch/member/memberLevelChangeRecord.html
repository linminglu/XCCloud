<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>会员级别变更记录</title>
    <link rel="stylesheet" href="../layui/css/layui.css">
    <link rel="stylesheet" href="../css/myxc.css">
</head>
<body>
<div class="layui-row reportPage">
    <div class="row-box">
        <div class="layui-col-md12 layui-col-sm12 layui-col-lg12">
            <blockquote class="layui-elem-quote layui-col-md12 layui-col-sm12 layui-col-lg12">
                <div class="layui-form layui-form-pane layui-col-md9" id="form1">
                    <div class="layui-form-item" id="serchMode"></div>
                </div>

                <div class="layui-col-md2" id="form2Box" style="">
                    <div class="layui-form layui-form-pane" id="form2" style="">
                        <div id="tantion" class="layui-form-item">
                        </div>
                    </div>
                </div>

                <button type="button" class="layui-btn layui-btn-normal layui-col-md1" i18n-content="查询模板" id="searchBtn">查询</button>
            </blockquote>
        </div>
        <div class="layui-col-md12 layui-col-sm12 layui-col-lg12">
            <table class="layui-hide" lay-filter="mLevelChangeTable" id="mLevelChangeTable"></table>
        </div>
    </div>
</div>
</body>
<script src="../js/jquery-1.8.3-min.js"></script>
<script src="../layui/layui.js"></script>
<script src="../js/storeSystem.js"></script>
<script src="../js/searchModel.js"></script>
<script>
    let xc = xcActionSystem.prototype;
    let token = xc.getStorage('token');
    let Id = '';
    let indexLayer;
    //初始化table
    let parm = {
        'obj': {'conditions':[],'userToken': token, 'signkey': '1f626576304bf5d95b72ece2222e42c3'},
        'url': '/XCCloud/MemberManage?action=QueryMemberLevelChange',
        'elem': '#mLevelChangeTable',
        'cols': [
            {field: 'ICCardID', title: '会员卡号', align: 'center', sort: true,templet:'#_ICCard'}
            , {field: 'UserName', title: '姓名', align: 'center'}
            , {field: 'OpTime', title: '变更时间', align: 'center'}
            , {field: 'OldMemberLevelName', title: '原会员等级', align: 'center',templet:'#_cardType'}
            , {field: 'NewMemberLevleName', title: '新会员等级', align: 'center',templet:'#_deposit'}
            , {field: 'ChangeTypeStr', title: '变更途径', align: 'center'}
            , {field: 'OrderID', title: '相关订单号', align: 'center'}
            , {field: 'StoreName', title: '操作门店', align: 'center'}
            , {field: 'CheckDate', title: '营业日期', align: 'center'}
            , {field: 'ScheduleName', title: '班次', align: 'center'}
            , {field: 'WorkStation', title: '操作终端', align: 'center'}
            , {field: 'OpUserName', title: '操作员', align: 'center'}
            , {field: 'Note', title: '备注', align: 'center'}

        ]
    };
    xc.getInitData(parm);
    layui.use(['form','layer','table','laydate'],function () {
        let form=layui.form;
        let layer=layui.layer;
        let table=layui.table;
        let laydate=layui.laydate;
        seachModel({
            'elem1': 'tantion',
            'elem2': 'serchMode',
            'pagename': 'memberLevelChangeSearch',
            'processname': 'memberLevelChangeSearch',
            'token': token,
            'form': form,
            'layer': layer,
            'searchBtn': 'searchBtn',
            'xc':xc,
            'laydate':laydate,
            'parm':parm,
            'types':''
        })
    })
</script>
<script type="text/html" id="_ICCard"></script>
<script type="text/html" id="assigned"></script>
<script type="text/html" id="_deposit"></script>
</html>